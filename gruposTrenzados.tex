\documentclass[12pt]{article}
\setlength{\parindent}{0pt}
\usepackage{enumitem}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{graphicx}
\usepackage[labelformat=simple]{subcaption}
\usepackage{verbatim}
\usepackage[left=2.54cm, right=2.54cm, top=2.54cm, bottom=2.54cm]{geometry}
\usepackage{pgf}
\usepackage{tikz,braids}
\usetikzlibrary{positioning}
\usepackage[export]{adjustbox}
\theoremstyle{definition}
\newtheorem{defi}{Definición}[section]
\newtheorem{teor}{Teorema}[section]
\newtheorem{prop}{Proposición}[section]
\newtheorem{ejem}{Ejemplo}[section]
\newtheorem{lema}{Lema}[section]
\newtheorem{colo}{Colorario}[section]

\renewcommand\thesubfigure{(\alph{subfigure})}
\providecommand{\norm}[1]{\lVert#1\rVert}



\title{Grupo de trenzas y criptografía}
\author{Fernando de la Hoz Moreno}
\date{}
    

\begin{document}

\maketitle

\section{Generalidades sobre grupos}

En esta sección vamos a repasar algunos aspectos de la teoría de grupos que en su mayoría se han visto a lo largo de la carrera. Estos serán necesarios para desarrollar tanto el grupo de trenzas como la parte de criptografía y criptoanálisis. En primer lugar vamos a comenzar con algunos conceptos básicos sobre grupos.

\begin{defi}[Grupo]
Un grupo es una estructura algebraica formada por un conjundo $G\neq\emptyset$ y una operación interna $G\times G$ a la que llamaremos \textit{producto}. Esta operación asigna a cada pareja $(x,y)$ el elemento $xy$ y verifica las siguientes propiedades:

\begin{enumerate}
\item Propiedad asociativa: $x(yz) = (xy)z$ $\ \ \forall x,y,z\in G$.
\item Existencia de elemento neutro: Existe $1\in G$ tal que $x1= x = 1x\ \ \forall x\in G$.
\item Existencia de elemento simétrico: Para cada $x \in G$ existe $x^{-1}\in G$.
\end{enumerate}
\end{defi}

\begin{defi}[Subgrupo]
Sea $G$ un grupo. Un subgrupo de $G$ es un subconjunto $H\subseteq G$, $H\neq\emptyset$ que verifica
\begin{enumerate}
\item $xy\in H\ \ \ \forall x,y\in H$ 
\item $1\in H$
\item $x^{-1}\in H\ \ \ \forall x\in H$
\end{enumerate}

Si $H$ es un subgrupo de $G$, lo denotaremos $H\leq G$.



\end{defi}

\begin{defi}[Subgrupo generado]
Sea G un grupo y $X\subseteq G$ un subconjunto $X\neq\emptyset$. Definimos el subgrupo generado por $X$, que denotaremos $<X>$, como el menor subgrupo de $G$ que contiene al conjunto $X$. Se tiene que

$$<X>\ \ =\bigcap_{X\subset K\in Sub(G)}K$$

\end{defi}

\begin{prop}
Para $X\subseteq G$ siendo $X\neq\emptyset$ se tiene que

$$<X>\  = \{x_1^{n_1}x_2^{n_2}\cdot\cdot\cdot x_r^{n_r} :\ x_i\in X,\ n_i\in\mathbb{Z},\ r\geq 1\}$$

\end{prop}



Si $X=\{x_1,x_2,...,x_k\}\subseteq G$ es un subconjunto finito entonces $<x_1,x_2,...,x_k>=<X>$.

Si $<X> = G$ diremos que $X$ es un conjunto de generadores de G. Diremos que $G$ es finitamente generado si existe $\{x_1,x_2,...,x_k\}\subseteq G.$ 


A continuación vamos a definir los grupos simétricos con los que más adelante estableceremos una relación con los grupos de trenzas. También vamos a ver algunas de sus propiedades que nos serán de utilidad.

\begin{defi}[Grupo simétrico]
Sea $X \neq \emptyset$. Denominamos a una función biyectiva de $X$ en si misma una \textit{permutación} de $X$. El conjunto $S_X$ de todas las permutaciones de $X$ es un grupo bajo la composición como operación y se llama \textit{grupo simétrico} o \textit{grupo de permutaciones}.
\end{defi}

El orden de $S_X$ es $|X|!$ cuando $X$ es finito. $S_X$ es no abeliano para $|X|\geq 3$. El grupo simétrico del conjunto $I_n=\{1,\ldots,n\}$ se denota por $S_n$ y tiene orden $n!$.
\newline
\newline
Si $X$ es finito consideramos $X = \{a_1,\ldots,a_n\}$. Podemos expresar $\sigma\in S_X$ de forma matricial

$$\sigma = 
\begin{pmatrix}
a_1 & a_2 & \cdots & a_n\\
a_{i_1} & a_{i_2} & \cdots & a_{i_n}
\end{pmatrix}
$$
\ 
\newline
Si $a_1,\ldots,a_k$ son elementos distintos de $X$, la expresión
$$(a_1\cdots a_k)$$
denota la permutación que envía $a_i$ a $a_{i+1}$ para $i=1,\ldots,k-1$ y el último elemento $a_k$ al primer elemento $a_1$. Los demás elementos de $X$ se mantienen fijos. A esta permutación se le llama \textit{ciclo de longitud} $k$ en $S_X$. Llamamos a un ciclo de longitud $2$ $(a\ b)$ se le llama transposición, ya que simplemente transpone $a$ y $b$, dejando al resto de elementos de $X$ fijos.

\begin{teor}
Sea $S_x$ un grupo simétrico, se cumple lo siguiente:
\begin{enumerate}
\item Los ciclos disjuntos en $S_x$ conmutan.
\item Cada permutación en $S_X$ es un producto de ciclos disjuntos, siendo el producto único excepto por el orden de los factores. Una representación de $\sigma$ como producto de ciclos disjuntos se le llama \textit{representación cíclica} o \textit{descomposición cíclica} de $\sigma$. La \textit{estructura cíclica} de una permutación $\sigma$ es la sucesión de longitudes de ciclo de una descomposición cíclica de $\sigma$, o equivalentemente, el número de ciclos de cada longitud en una descomposición cíclica de $\sigma$.
\end{enumerate}
\end{teor}

\begin{teor}
\ \newline
\begin{enumerate}
\item Sea $\sigma\in S_n$. Para cualquier ciclo $(a_1\cdots a_k)$,
$$(a_1 \cdots a_k)^\sigma:= \sigma^{-1}(a_1 \cdots a_k)\sigma = (\sigma a_1 \cdots \sigma a_k)$$
Por tanto, si $\tau=c_1\cdots c_k$ es una descomposición cíclica de $\tau$, entonces
$$\tau^\sigma = c_1^\sigma\cdots c_k^\sigma$$
es una descomposición cíclica de $\tau^\sigma$.
\item Dos permutaciónes son conjugadas si y solo si tienen la misma estructura cíclica.
\end{enumerate}
\end{teor}

Por último vemos la definición de grupo libre que utilizaremos para la construcción del grupo de trenzas.

\begin{defi}[Grupo libre]
Sea X un conjunto no vacío. Un par $(F,\kappa:X\rightarrow F)$ donde $F$ es un grupo se dice \textit{universal} para $X$ si para cualquier función $f:X\rightarrow G$ de $X$ al grupo G hay un único homomorfismo de grupo $\tau_f:F\rightarrow G$ tal que

$$\tau_f\circ\kappa = f$$

Al grupo $F$ se le llama \textit{grupo libre} en $X$ y a $X$ se le denomina un conjunto de \textit{generadores libres} de $F$. La función $\kappa$ se llama función universal para el par $(F,\kappa)$. Usamos la notación $F_X$ para denotar el grupo libre de $X$.

\end{defi}

\section{El grupo de trenzas}
Los términos \textit{trenza} y \textit{grupo de trenza} fueron acuñados por primera vez por el matemático hamburgués Emil Artin en \cite{Art1}, publicación del año 1925. En esta publicación las trenzas aparencen como objetos topológicos. No fue hasta el año 1947 en el que Artin dió una presentación explícita de este grupo en la revista \textit{Annals of mathematics} \cite{Art2}. A continuación vamos a definir los grupos de trenza tanto desde un punto de vista agebraico, como topológico, las cuales se verán que son equivalentes. También veremos algunas de sus propiedades como grupo. El conjunto de definiciones y resultados han sido tomados de 

\subsection{El grupo de trenzas de Artin}



Ahora vamos a dar la definición algebraica del grupo de trenzas $B_n$ para cualquier $n>0$. La definición esta formulada en términos de presentación de un grupo por generadores y relaciones.

\begin{defi}
El grupo de trenzas de Artin $B_n$ es el grupo generado por $n-1$ elementos $\sigma_1, \sigma_2,...,\sigma_{n-1}$ y las relaciones de trenza
$$\sigma_i\sigma_j = \sigma_j\sigma_i$$

para todo $i,j=1,2,...,n-1$ con $|i-j|\geq 2$ y

$$\sigma_i\sigma_{i+1}\sigma_i =\sigma_{i+1}\sigma_i\sigma_{i+1}$$

para todo $i=1,2,...,n-2$.
\label{defi:artin}
\end{defi}

\begin{lema}
Si $s_1,...,s_{n-1}$ son elementos de un grupo $G$ que satisfacen las relaciones de trenza, entonces existe un único homomorfismo de grupo $f:B_n\rightarrow G$ tal que $s_i = f(\sigma_i)$ para todo $i=1,2,...,n-1$.
\label{uni_homo}
\end{lema}

\textit{Demostración}. Sea $F_n$ el grupo libre generado por el conjunto $\{\sigma_1,...,\sigma_{n-1}\}$. Hay un único homomorfismo $\bar{f}:F_n\rightarrow G$ tal que $f(\sigma_i)= s_i$ para todo $i=1,...,n-1$. Este homomorfismo induce un homomorfismo de grupo $f:B_n\rightarrow G$ en el que sabemos que si $r$ y $r'$ son dos trenzas tal que $r = r'$ entonces $f(r) = f(r')$. De esta manera obtenemos que el homomorfismo conserva las relaciones de trenza teniendo en cuenta la hipótesis inicial

$$\bar{f}(\sigma_i\sigma_{j})=\bar{f}(\sigma_i)\bar{f}(\sigma_{j})=s_is_j=s_js_i=\bar{f}(\sigma_j)\bar{f}(\sigma_{i})=\bar{f}(\sigma_j\sigma_{i})$$

$$\bar{f}(\sigma_i\sigma_{i+1}\sigma{i}) = s_is_{i+1}s_i=s_{i+1}s_is_{i+1} = \bar{f}(\sigma_{i+1}\sigma_i\sigma_{i+1})$$





\section{Trenzas y sus diagramas}

\begin{comment}
\begin{defi}[$n$-trenza]\label{n_trenza}
Sea $\mathbb{D}$ el cubo unidad, de manera que $\mathbb{D} = \{(x,y,z)\ |\ 0\leq x,y,z\leq 1\}$. En la cara superior del cubo se situan $n$ puntos, $A_1, A_2,...,A_n$, y, de igual manera, se situan $n$ puntos en la cara inferior $B_1, B_2,...,B_n$.
\newline
\newline
Por conveniencia, tomaremos los puntos $A_1=(\frac{1}{2}, \frac{1}{n+1},1),\ A_2=(\frac{1}{2}, \frac{2}{n+1},1),\ ...\ ,\ A_n=(\frac{1}{2}, \frac{n}{n+1},1)$ y $B_1=(\frac{1}{2}, \frac{1}{n+1},0),\ B_2=(\frac{1}{2}, \frac{2}{n+1},0),\ ...\ ,\ B_n=(\frac{1}{2}, \frac{n}{n+1},0)$.
\newline
\newline
Ahora unimos los $n$ puntos $A_1,\ A_2,\ \dotsc\ ,A_n$ con $B_1,\ B_2,\ \dotsc\ ,B_n$ por medio de $n$ segmentos poligonales/arcos $d_1,\ d_2,\ \dotsc\ ,d_n$ (estrictamente hablando, los segmentos deberían ser poligonales, pero, con el fin de hacer los diagramas de manera que sean más faciles de ver al dibujarlos, dibujaremos estos arcos como curvas suaves). Sin embargo, los arcos solo pueden unir de forma que cumplan las siguientes tres condiciones:
\begin{enumerate}
\item $d_1,\ d_2,\ \dotsc\ ,d_n$ son mutuamente disjuntos.
\item Cada $d_i$ conecta algún $A_j$ a algún $B_k$, donde $j$ y $k$ podrían ser o no iguales, pero $d_i$ no permite conectar $A_j$ a $A_k$ (o $B_j$ a $B_k$).
\item Cada plano $E_s$ (llamado plano de nivel), tal que z = s y $s\in [0,1]$ (en otras palabras paralelo al plano-xy) interseca a cada arco $d_i$ en un solo punto.
\end{enumerate}
 Tal configuración de de $n$ arcos $d_1,\ \dotsc\ ,d_n$ (con puntos extremos $A_1,\ A_2,\ \dotsc\ ,A_n$ y $B_1,\ B_2,\ \dotsc\ ,B_n$) es llamada una $n$-trenza, o una trenza con $n$ cadenas. Como cabría de esperar, $d_i$ es llamado una (trenza) cadena (o equivalentemente la $i$-ésima (trenza) cadena).
\end{defi}
\ 
\newline
Vamos a denotar al conjunto de todas las $n$-trenzas por $\mathcal{B}_n$. A continuación definimos un solo movimiento, al que denominaremos como \textit{movimiento elemental}.


\begin{defi}[movimiento elemental]\label{mov_elem}
Supongamos que $\mathbb{D}$ es el cubo unidad y que dentro de este cubo hay un número de cadenas como las definidas en la Definición \ref{n_trenza}. (Para el proposito de esta definición, necesitamos restringir y trabajar exclusivamente con la imagen poligonal de una cadena). Sea $\mathit{AB}$ un segmento de la cadena $d$. Sea $\mathit{C}$ un punto en $\mathbb{D}$ tal que el triángulo $\triangle\mathit{ABC}$ (en $\mathbb{D}$) no interseca a ninguna otra cadena y solo se encuentra con $d$ en $\mathit{AB}$. 
\newline
\newline
Si suponemos que $\mathit{AC}\cup\mathit{CB}$ interseca a todos los planos de nivel $E_s$ con $s\in[0,1]$ como mucho en un punto entonces a la operación de reemplazar $AB$ por $\mathit{AC}\cup\mathit{CB}$, a la cual notaremos por $\Omega$, se le denomina \textit{movimiento elemental}. También podemos realizar la operación inversa, sustituyento $\mathit{AC}\cup\mathit{CB}$ por $AB$, a la que notamos por $\Omega^{-1}$.

\end{defi}

\begin{defi}[Equivalencia de trenzas]\label{eq_trenzas}
Decimos que dos $n$-trenzas, $\beta$ y $\beta'$, son equivalentes si se puede transformar $\beta$ en $\beta '$ tras aplicar un número finito de movimientos elementales sobre $\beta$. Denotamos esta equivalencia como $\beta \sim \beta'$.
\end{defi}

\end{comment}

\begin{defi}[Trenza geométrica]\label{trenza_geom}
Una trenza geométrica de $n$ hebras, con $n \geq 1$, es un subconjunto $\mathcal{B}\subset\mathbb{R}^2\times I$ formado por $n$ intervalos topológicos disjuntos llamados hebras de tal manera que la proyección $\mathbb{R}^2\times I\rightarrow I$ establezca un homeomorfismo de cada hebra en $I$ y
$$$$
$$\mathcal{B}\cap(\mathbb{R}^2\times \{0\})=\{(1,0,0),(2,0,0),...,(n,0,0)\}$$
$$\mathcal{B}\cap(\mathbb{R}^2\times \{1\})=\{(1,0,1),(2,0,1),...,(n,0,1)\}$$
$$$$
Cada hebra de $\mathcal{B}$ interseca con el plano $\mathbb{R}^2\times \{t\}$ con $t\in I$ en un único punto y conecta un punto $(i,0,0)$ con un punto $(s(i),0,0)$ donde $i,s(i)\in\{1,2,...,n\}$. La sucesión $(s(1),s(2),...,s(n))$ es una permutación del conjunto $\{1,2,...,n\}$ llamada permutación subyacente de $\mathcal{B}$
\end{defi}


Decimos que dos trenzas geométricas $\mathcal{B}$ y $\mathcal{B}'$ son isotópicas si podemos deformar de manera continua $\mathcal{B}$ en $\mathcal{B}'$. Más formalmente, $\mathcal{B}$ y $\mathcal{B}'$ son isotópicas si existe una función continua $F : \mathcal{B} \times I \rightarrow \mathbb{R}^2\times I$ de tal manera que para cada $s\in I$, la función $F_s : \mathcal{B}\rightarrow \mathbb{R}^2\times I$ con $F_s(x)= F(x,s)$ es un embebimiento cuya imagen es una trenza geométrica de $n$ hebras, cumpliendo que $F_0 = id_{\mathcal{B}}: \mathcal{B}\rightarrow \mathcal{B}$ y $F_1(\mathcal{B}) = \mathcal{B}'$. Debido a que la imagen de $F_s$ es una trenza geométrica y $F$ es una función continua tenemos automáticamente que la imagen del punto final de cada hebra por $F_s$ es el mismo.
\newline
\newline
Tanto la función $F$ como la familia de hebras geométricas $\{F_s(\mathcal{B})\}_{s\in I}$ se llaman \textit{isotopía} de $\mathcal{B}$ en $\mathcal{B}'$. Se ve facilmente que la relación de isotopía es una relación de equivalencia. Al conjunto de clases de equivalencia correspondientes se les denomina \textit{trenzas de n hebras} y lo denotamos por $\mathcal{B}_n$
\newline
\newline
Para poder especificar una trenza geométrica se puede utilizar la proyección en $\mathbb{R}\times\{0\}\times I$ e indicar de alguna manera que hebra esta por encima de otra cuando se crucen. Solo se podrá aplicar esta solución en trenzas geométricas cuya proyección solo tenga puntos donde se crucen a lo más dos hebras. Pasamos a definir formalmente un diagrama de trenza.


\begin{defi}[Diagrama de trenza]\label{diagrama_trenza}
Un díagrama de trenzas de $n$ hebras es un conjunto $\mathcal{D}\subset\mathbb{R}\times I$ formado por la unión de $n$ intervalos topológicos llamados hebras y que cumplen las siguientes condiciones: 
\begin{enumerate}
\item La proyección de $\mathbb{R}\times I\rightarrow I$ es un homeomorfismo.
\item Cada punto de $\{1,2,...,n\}\times\{0,1\}$ es un punto final de la hebra.
\item Cada punto de $\mathbb{R}\times I$ pertenece como mucho a dos hebras. En cada punto donde se intersequen dos hebras, estas se cruzaran transversalmente.


\end{enumerate}
\end{defi}

La transversalidad de los cruces y la compacidad de las hebras nos asegura que el número de cruces es finito. Gráficamente la hebra que pasa por debajo en un cruce se representará con una discontinuidad y la que pasa por encima con una linea continua. Cada trenza puede ser representada por un diagrama de trenza y cada diagrama tiene asociada una trenza. Dado $\mathcal{D}$ un diagrama, denotaremos como $\beta(\mathcal{D})$ a la trenza de $n$ hebras asociada.
\newline
\newline
Dos diagramas de trenzas $\mathcal{D}, \mathcal{D}'$ de $n$ hebras se dicen que son isotópicos si se puede establecer una función continua entre $F:\mathcal{D}\times I\rightarrow\mathbb{R}\times I$ tal que para cada $s\in I$ el conjunto $\mathcal{D}_s = F(\mathcal{D}\times s)\subset\mathbb{R\times I}$ es un diagrama de $n$ hebras, con $\mathcal{D}_0 = \mathcal{D}$ y $\mathcal{D}_1 = \mathcal{D}'$. Se entiende que $F$ mapea los cruces de $\mathcal{D}$ en los cruces de $\mathcal{D}_s$ para todo $s\in I$ preservando si los cruces son por debajo o por encima. A la familia de diagramas $\{\mathcal{D}_s\}_{s\in I}$ se le llama \textit{isotopía} de $\mathcal{D}_0 = \mathcal{D}$ en $\mathcal{D}_1 = \mathcal{D}'$.




\begin{figure}[h!]
\centering
\begin{tikzpicture}
\braid[line width =1.5pt, number of strands = 4, name = b1] (b1) at (-3,0) a_1 a_3;
		\braid[line width =1.5pt, number of strands = 4, name = b1] (b1) at (3,0) a_3 a_1;
		\node[] at (1.5,-1.2){$\leadsto$};
\end{tikzpicture}
\label{fig:d_iso}
\caption{Diagramas isótopicos}
\end{figure}







\begin{defi}[Movimientos de Reidemeister]  Los movimientos de Reidemester  son movimientos locales (afectan a la posición de las hebras dentro de un disco en 
$ \mathbb{R}\times I $ ) en un diagrama de trenzas. Estos estan formados por $\Omega_2$, $\Omega_3$ (Figura \ref{MR}) y sus transformaciones inversas
$\Omega_2^{-1}$, $\Omega_3^{-1}$. 

\end{defi}

\begin{figure}[h!]
\centering
\begin{subfigure}[b]{0.6\linewidth}
\begin{center}
\begin{tikzpicture}
\braid[line width =1.5pt, number of strands = 2, name = b1, height = 80pt] (b1) at (-7,0) a1;
\braid[line width =1.5pt, number of strands = 2, name = b1, height = 40pt] (b1) at (-4.5,0) a_1 a_1^{-1};

		\node[] at (-5.25,-1.7){$\longmapsto$};
		\node[] at (-5.25,-1.35){$\Omega_2$};

\braid[line width =1.5pt, number of strands = 2, name = b1, height = 80pt] (b1) at (-2,0) a1;
\braid[line width =1.5pt, number of strands = 2, name = b1, height = 40pt] (b1) at (0.5,0) a_1^{-1} a_1;

		\node[] at (-0.25,-1.7){$\longmapsto$};
		\node[] at (-0.25,-1.35){$\Omega_2$};
\end{tikzpicture}

\caption{}
\end{center}
\end{subfigure} 


\begin{subfigure}[b]{0.6\linewidth}
\begin{center}
\begin{tikzpicture}
\braid[line width =1.5pt, number of strands = 3, name = b1, height = 30pt] (b1) at (-8.25,0) a_1^{-1}  a_2^{-1} a_1^{-1};
\braid[line width =1.5pt, number of strands = 3, name = b1, height = 30pt] (b1) at (-4.25,0) a_2^{-1} a_1^{-1} a_2^{-1};

		\node[] at (-5.25,-2.0){$\longmapsto$};
		\node[] at (-5.25,-1.65){$\Omega_3$};


\end{tikzpicture}

\caption{}
\end{center}
\end{subfigure} 


\caption{Movimientos de Reidemeister}
\label{MR}
\end{figure}


Estos movimientos preservan la correspondencia entre diagrama de trenza y trenza. Decimos que dos diagramas de trenzas $\mathcal{D}, \mathcal{D}'$ son $\mathcal{R}$\textit{-equivalentes} si $\mathcal{D}$ puede ser transformado en $\mathcal{D}'$ mediante una sucesión finita de isotopías y movimientos de Reidemeister. Esta claro que si $\mathcal{D}, \mathcal{D}'$ son $\mathcal{R}$\textit{-equivalentes}, entonces $\beta(\mathcal{D}) = \beta(\mathcal{D'})$.
\newline

Hemos construido dos equivalencias, una para trenzas geométricas y otra para diagramas de trenzas. El Teorema \ref{teor:equiv} nos permite trabajar indiferentemente con unas o con otras utilizando ambas equivalencias. Tambíen nos garantiza que los diagramas $\mathcal{R}$-\textit{equivalentes} presentan la misma trenza.


\begin{teor}
Dos diagramas de trenzas representan trenzas geométricas isotópicas si y solo si son $\mathcal{R}$\textit{-equivalentes}.
\label{teor:equiv}
\end{teor}
\section{Grupo de trenzas}
\begin{defi}[Producto de hebras]
Dado dos diagrama de trenzas $\mathcal{D}_1$, $\mathcal{D}_2$, representando las trenzas de $n$ hebras $\beta_1$ y $\beta_2$ respectivamente, definimos el producto de diagramas $\mathcal{D}_1\mathcal{D}_2$ concatenando $\mathcal{D}_1$ en la parte superior de $\mathcal{D}_2$ y reduciendo el diagrama resultante en $\mathbb{R}\times I$. Entonces el producto de trenzas $\beta_1\beta_2$ es la trenza  asociada al diagrama producto $\mathcal{D}_1\mathcal{D}_2$.

\end{defi} 

\begin{ejem}
Sean $\beta_1,\beta_2\in \mathcal{B}_3$, cuyos diagramas se pueden ver en \subref{subfig:factores}, el resultado del producto $\beta_1\beta_2$ 
\begin{figure}[h!]
\centering
	\begin{subfigure}[b]{0.45\linewidth}
		\begin{center}
		\begin{tikzpicture}
		\braid[line width =1.5pt, number of strands = 3, name = b1] (b1) at (-3,3) a_1 a_1;
	\node[] at (-3.75,1.75){$\beta_1$};
	\node[] at (0,0){};
		\braid[line width =1.5pt, height = 15pt, nudge factor = 0.01, control factor = 0.5, name = b2] (b2) at (-3,0) a_1 a_2 a_1^{-1} a_2^{-1};
		\node[] at (-3.75,-1.2){$\beta_2$};

		\end{tikzpicture}
		\end{center}
		
		\caption{}
		\label{subfig:factores}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\linewidth}
		\begin{center}
		\begin{tikzpicture}
		\braid[line width =1.5pt, height = 20pt, number of strands = 3]  a_1 a_1 a_1 a_2 a_1^{-1} a_2^{-1};
		\node[] at (0,-2.2){$\beta_1\beta_2$};
	\node[] at (4.5,0){};
		\end{tikzpicture}
		\end{center}
		\caption{}
	\end{subfigure}
	\caption{Producto de dos hebras}
	\label{fig:producto_hebras}
\end{figure}
\end{ejem}








\textit{Nota: Formalmente la longitud de los diagramas debería ser constante, pero para una mejor visualización de estos no se ha tenido en cuenta.}
\newline
\newline
De forma clara se ve que el elemento neutro para el producto de trenzas, por ambos lados, es la trenza con el diagrama cuyas hebras se encuentran paralelas entre sí (Figura \ref{fig:elem_neu}).
\begin{comment}
hola
\end{comment}

\begin{figure}[h!]
\begin{center}
		\begin{tikzpicture}
		\braid[line width =1.5pt, height = 50pt, number of strands = 2, name = a]  a1;
		\node[at=(a-1-s),pin=north west:1]  {};
		\node[at=(a-2-s),pin=north west:2]  {};
		\node[] at (3,-1){$\cdot\cdot\cdot$};
		\braid[line width =1.5pt, height = 50pt, number of strands = 2, name = b] at (4,0) a1;
		\node[at=(b-1-s),pin=north west:$n-1$]  {};
		\node[at=(b-2-s),pin=north west:$n$]  {};
		\end{tikzpicture}
		\end{center}
		\caption{Elemento neutro}
		\label{fig:elem_neu}
\end{figure}


Trivialmente también se tiene la asociatividad del producto de trenzas como se puede ver en el ejemplo \ref{ejem:asoci}.

\begin{ejem}[Asociatibidad]





\begin{figure}[h!]
\centering
	\begin{subfigure}[b]{0.8\linewidth}
		\begin{center}
		\begin{tikzpicture}
		\braid[line width =1.5pt, number of strands = 3, height = 20pt] (b1) at (-4,0) a_1^{-1} a_2 a_1^{-1} a_2^{-1};
		\braid[line width =1.5pt, number of strands = 3, height = 40pt] (b1) at (-7.5,0) a_1^{-1} a_1^{-1};
		\braid[line width =1.5pt, number of strands = 3, height = 27pt] (b1) at (-0.5,0) a_2^{-1} a_1^{-1} a_2^{-1};
	\node[] at (-4.5,-1.2){$\beta_2$};
	\node[] at (-8,-1.2){$\beta_1$};
	\node[] at (-1,-1.2){$\beta_3$};

		\end{tikzpicture}
		\end{center}
		
		\caption{}
		\label{subfig:factores}
	\end{subfigure}
	
	\begin{subfigure}[b]{0.45\linewidth}
		\begin{center}
		\begin{tikzpicture}
		\braid[line width =1.5pt, height = 20pt, number of strands = 3]  a_1^{-1} a_1^{-1} a_1^{-1} a_2 a_1^{-1} a_2^{-1};
\braid[line width =1.5pt, height = 20pt, number of strands = 3]  at (1,-5) a_2^{-1} a_1^{-1} a_2^{-1};
\braid[line width =1.5pt, height = 20pt, number of strands = 3, height = 20pt] at (4,0) a_1^{-1} a_1^{-1} a_1^{-1} a_2 a_1^{-1} a_2^{-1} a_2^{-1} a_1^{-1} a_2^{-1};
		\node[] at (0.3,-2.2){$\beta_1\beta_2$};

	\node[] at (0.3,-6.3){$\beta_3$};
	\node[] at (5,-7.5){$(\beta_1\beta_2)\beta_3$};
		\end{tikzpicture}
		\end{center}
		\caption{}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\linewidth}
		\begin{center}
		\begin{tikzpicture}
		\braid[line width =1.5pt, height = 20pt, number of strands = 3]  a_1^{-1} a_1^{-1} ;
\braid[line width =1.5pt, height = 20pt, number of strands = 3]  at (1,-2.2) a_1^{-1} a_2 a_1^{-1} a_2^{-1} a_2^{-1} a_1^{-1} a_2^{-1};
\braid[line width =1.5pt, height = 20pt, number of strands = 3, height = 20pt] at (4,0) a_1^{-1} a_1^{-1} a_1^{-1} a_2 a_1^{-1} a_2^{-1} a_2^{-1} a_1^{-1} a_2^{-1};
		\node[] at (0.3,-1){$\beta_1$};

	\node[] at (0.3,-4.75){$\beta_2\beta_3$};
	\node[] at (5,-7.5){$\beta_1(\beta_2\beta_3)$};
		\end{tikzpicture}
		\end{center}
		\caption{}
	\end{subfigure}
	\caption{Asociatividad}
	\label{fig:asoci}
\end{figure}

\label{ejem:asoci}

\end{ejem}

Por último probamos el siguiente lema el cual implica que $\mathcal{B}_n$ es un grupo.

\begin{lema}
\label{lema:inverso}
Sea $\beta\in\mathcal{B}_n$, existe un elemento $\beta^{-1}\in\mathcal{B}_n$ que es el inverso por ambos lados de $\beta$.
\end{lema}
\textit{Demostración}. Para $i = 1,2,n-1$, definimos dos trenzas elementales $\sigma_i^+$ y $\sigma_i^-$ representadas por los diagramas con un unico cruce mostradas en la Figura \ref{fig:elem_braids}. Las trenzas $\sigma_1^+,...,\sigma_{n-1}^+, \sigma_1^-,...,\sigma_{n-1}^-\in\mathcal{B}_n$ generan $\mathcal{B}_n$ como un monoide. Para ver esto, consideramos una trenza $\beta$ de $n$ hebras representada por un diagrama de trenza $\mathcal{D}$. A través de una ligera deformación de $\mathcal{D}\subset\mathbb{R}\times I$ en un vecindario de sus puntos de cruce, podemos hacer que los cruces de $\mathcal{D}$ tengan distinta coordenada. Por tanto podemos establecer una partición

$$0=t_0,t_1,...,t_{k_-1},t_k = 1$$

tal que la intersección de $\mathcal{D}$ con cada banda $\mathbb{R}\times[t_j, t_{j-1}]$ tiene exactamente un cruce dentro. Esta intersección es en realmente un diagrama de $\sigma_i^+$ o $\sigma_i^-$ para algún $i = 1,2,...,n-1$. El resultado de la división de $\mathcal{D}$ como el producto de $k$ diagrama de hebras muestra que

$$\beta = \beta(\mathcal{D}) = \sigma_{i_1}^{\varepsilon_1}\sigma_{i_2}^{\varepsilon_2}\cdot\cdot\cdot\sigma_{i_k}^{\varepsilon_k}$$

donde cada $\varepsilon_j$ es o $+$ o $-$ y $i_1,...,i_k\in{1,2,...,n-1}$.
Claramente, $\sigma_i^+\sigma_i^- = \sigma_i^-\sigma_i^+=1$ para todo $i$. Por tanto $\beta^{-1} = \sigma_{i_k}^{-\varepsilon_k}\cdot\cdot\cdot\sigma_{i_2}^{-\varepsilon_2}\sigma_{i_k}^{-\varepsilon_k}$ (utilizamos el convenio de $--=+\ +-=-$).



\begin{figure}[h!]
\centering
\begin{subfigure}[b]{0.6\linewidth}
\begin{center}
\begin{tikzpicture}
\braid[line width =1.5pt, number of strands = 1, name = a, height = 80pt]  at (-6.75,0) a1;
\braid[line width =1.5pt, number of strands = 4, name = b, height = 80pt] at (-4.75,0) a_2^{-1};
\node[at=(a-1-s),pin=north :1]  {};
\node[at=(b-1-s),pin=north :$i-1$]  {};
\node[at=(b-2-s),pin=north :$i$]  {};
\node[at=(b-3-s),pin=north :$i+1$]  {};
\node[at=(b-4-s),pin=north :$i+2$]  {};

		\node[] at (-5.75,-1.7){$\cdot\cdot\cdot$};



\braid[line width =1.5pt, number of strands = 1, name = c, height = 80pt] at (0.25,0) a1;
\node[at=(c-1-s),pin=north :$n$]  {};

		\node[] at (-0.75,-1.7){$\cdot\cdot\cdot$};

\end{tikzpicture}

\caption*{$\sigma_i^{+}$}
\end{center}
\end{subfigure} 


\begin{subfigure}[b]{0.6\linewidth}
\begin{center}
\begin{tikzpicture}
\braid[line width =1.5pt, number of strands = 1, name = a, height = 80pt]  at (-6.75,0) a1;
\braid[line width =1.5pt, number of strands = 4, name = b, height = 80pt] at (-4.75,0) a_2;
\node[at=(a-1-s),pin=north :1]  {};
\node[at=(b-1-s),pin=north :$i-1$]  {};
\node[at=(b-2-s),pin=north :$i$]  {};
\node[at=(b-3-s),pin=north :$i+1$]  {};
\node[at=(b-4-s),pin=north :$i+2$]  {};

		\node[] at (-5.75,-1.7){$\cdot\cdot\cdot$};



\braid[line width =1.5pt, number of strands = 1, name = c, height = 80pt] at (0.25,0) a1;
\node[at=(c-1-s),pin=north :$n$]  {};

		\node[] at (-0.75,-1.7){$\cdot\cdot\cdot$};

\end{tikzpicture}

\caption*{$\sigma_i^-$}
\end{center}
\end{subfigure} 


\caption{Trenzas elementales $\sigma_i^+$ y $\sigma_i^-$}
\label{fig:elem_braids}
\end{figure}

\begin{lema}
Los elementos $\sigma_1^+,...,\sigma_{n-1}^+\in\mathcal{B}_n$ satisfacen las relaciones de trenza, las cuales son, $\sigma_i\sigma_j = \sigma_j\sigma_i$ para todo $i,j=1,2,...,n-1$ con $|i-j|\geq 2$, y $\sigma_i\sigma_{i+1}\sigma_i =\sigma_{i+1}\sigma_i\sigma_{i+1}$ para todo $i=1,2,...,n-2$.
\label{lema:rel_geom}
\end{lema}

\textit{Demostración}. La primera relación viene del hecho de que ambas partes representan diagramas isotópicos. Los diagramas que representan ambos lados de la segunda relación se diferencian por un movimiento de Reidmeister $\Omega_3$.

\begin{teor}
Para $\varepsilon = \pm$, existe un unico homomorfismo $\varphi_\varepsilon : B_n\rightarrow\mathcal{B}_n$ tal que $\varphi_\varepsilon(\sigma_i) = \sigma_i^\varepsilon$ para cada $i=1,2,...,n-1$. El homomorfismo $\varphi_\varepsilon$ es un isomorfismo.
\end{teor}

\textit{Demostración.} Lo probamos para $\varepsilon = +$, el caso $\varepsilon = -$ es quivalente. La existencia y unicidad de $var\phi_+$ vienen proporcionadas por los Lemas \ref{uni_homo} y \ref{lema:rel_geom}. En la prueba del Lema \ref{lema:inverso} se demuestra que $\sigma_1^+,\sigma_2^+,...,\sigma_n^+$ son generadores de $\mathcal{B}_n$. Estos generadores pertenecen a la imagen de $\varphi_+$. Por tanto $\sigma_+$ es sobreyectiva.

Ahora tomamos la función teórica $\psi :\mathcal{B}_n\rightarrow B_n$ tal que $\psi \circ \varphi = id$. Esto implica que $\varphi_+$ es inyectiva. Como en la prueba del Lema \ref{lema:inverso}, representamos cualquier $\beta\in\mathcal{B}_n$ por el diagrama $\mathcal{D}$ en el cual los cruces tienen la segunda coordenada diferente. Esto lleva a una expansión de la forma \label{hola}

\begin{equation}\label{form:expansion}
\psi(\mathcal{D})=(\sigma_{i_1})^{\varepsilon_1}(\sigma_{i_2})^{\varepsilon_2}\cdot\cdot\cdot(\sigma_{i_k})^{\varepsilon_k}\in B_n
\end{equation}

donde $(\sigma_i)^+=\sigma_i$ y $(\sigma_i)^-=\sigma_i^{-1}$. Se tiene que $\psi(\mathcal{D})$ depende exclusivamente de $\beta$. Por el Teorema \ref{teor:equiv} solo nos hace falta verificar que $\psi(\mathcal{D})$ es invariable bajo isotopías y movimientos de Reidmeister sobre $\mathcal{D}$. Isotopías de $\mathcal{D}$ que conservan el orden de los puntos dobles de $\mathcal{D}$ con respecto a la segunda coordenada mantienen la expansión (\ref{form:expansion}) y por tanto preserva $\psi(\mathcal{D})$. Una isotopía que cambia el orden de dos dobles puntos en $\mathcal{D}$ (como en la Figura \ref{fig:d_iso}) reemplaza el termino $\sigma_i^{\varepsilon_i}\sigma_j^{\varepsilon_j}$ en (\ref{form:expansion}) por $\sigma_j^{\varepsilon_j}\sigma_i^{\varepsilon_i}$ para algún $i,j\in\{1,2,...,n-1\}$ con $|i-j|\geq 2$. Bajo $\psi$, a estas expresiones les corresponde el mismo elemento de $B_n$ debido a la primera relación de trenza en Definición
 \ref{defi:artin}.
\newline
\newline
El movimiento $\Omega_2$ (respectivamente $\omega_2^{-1}$) en $\mathcal{D}$ inserta (respectivamente elimina) en la expansion (\ref{form:expansion}) un termino $\sigma_i^+\sigma_i^-$ o $\sigma_i^-\sigma_i^+$. Claramente esto preserva $\psi(\mathcal{D})$.
\newline
\newline
El movimiento $\Omega_3$ en $\mathcal{D}$ reemplaza la secuancia $\sigma_{i}\sigma_{i+1}\sigma_{i}$ en (\ref{form:expansion}) por $\sigma_{i+1}\sigma_{i}\sigma_{i+1}$. Bajo $\psi$, esta expresión corresponde al mismo elemento de $B_n$ debido a la segunda relación de trenza en Definición \ref{defi:artin}. El movimiento $\omega_3^{-1}$ se ve de forma similar.
\newline
\newline

Esto demuestra que $\psi$ es una función bien definida de $\mathcal{B}_n\rightarrow B_n$. Por construcción $\psi\circ\varphi_+=id$. Por tanto $\varphi_+$ es sobreyectiva e inyectiva.




\qed




Sea $\beta\in B_n$ una trenza de $n$ hebras, consideramos una trenza geométrica que la represente . La hebra $d_i$ une el punto $(i,0,0)$ con el punto $(j(i),0,1).$ Definimos la función $\pi:B_n\rightarrow S_n$ del grupo de trenzas al grupo simétrico como

$$\pi(\beta) = \begin{pmatrix}
1 & 2 & \cdot\cdot\cdot & n\\
j(1) & j(2) & \cdot\cdot\cdot & j(n)\\
\end{pmatrix} $$

Da igual la trenza geométrica tomada como representante pueso que todas tienen el mismo punto de inicio y fin para todas las hebras. Podemos decir que $\pi$ es un invariante para las trenzas geométricas y se puede ver facilmente que es un homomorfismo. Normalmente, a la permutación obtenida a partir de una trenza se le denomina \textit{permutación de hebra} y se denota por $\pi(\beta)$.

\begin{defi}[Trenzas puras]
El nucleo del homomorfismo $\pi:B_n\rightarrow S_n$ es llamado \textit{grupo de trenzas puro} y es denotado por $P_n$

$$P_n = Ker(\pi:B_n\rightarrow S_n)$$

Los elementos de $P_n$ se llaman trenzas puras de $n$ hebras. Una trenza geométrica representa a un elemento de $P_n$ si y solo si la hebra que parte de $(i,0,0)$ termina en $(i,0,1)$ 

\end{defi}


\section{Monoides de Garside y Monoides de Trenzas}
Los grupos de trenzas pueden ser vistos como grupos de fracciones de ciertos monoides llamados monoides de trenzas. Estos últimos pertenecen a una clase más amplia de los llamados monoidesde Garside.

\subsection{Monoides}

Un monoide is un conjunto que cuenta con una operación binaria (multiplicación) $M\times M \rightarrow M$ la cual es asociativa y tiene un elemento neutro. Es basicamente un grupo que no cuenta con la propiedad de existencia de elemento simétrico.
\newline
\newline
Un monoide $M$ es \textit{cancelativo por la izquierda} (resp. \textit{por la derecha}) si para todo $a,b,c\in M$

$$ab=ac\Longrightarrow b=c\ \ \ \ (\textrm{resp.}\ \  ba=ca\Longrightarrow b=c)$$
\newline
Un elemento $a$ de un monoide $M$ es \textit{invertible} si existe $b\in M$ tal que $ab=ba=1$.

\subsection{Divisibilidad en monoides}

Si $a=bc$, donde $a,b,c$ son elementos de un monoide $M$, entonces decimos que $b$ es un \textit{divisor por la izquierda} de $a$ y $c$ es un \textit{divisor por la derecha}. También decimos que $a$ es un \textit{múltiplo por la derecha} de $b$ y que $a$ es \textit{múltiplo por la izquierda} de $c$. Lo denotaremos por $b\preceq a$ y $a\succeq c$. Por ejemplo, $1\preceq a$ y $a\succeq 1$ para todo $a\in M$, ya que $a=1a=a1$.

\begin{lema}
Las relaciones $\preceq$ y $\succeq$ en un monoide son reflexivas y transitivas.
\label{lema:rel1}
\end{lema}

\textit{Demostración.} La reflexividad de $\preceq$ viene de la identidad $a=a1$. La transitividad viene dada por la asociatividad de la multiplicacion. Se procede de igual manera para $\succeq$.

\qed


\subsection{Monoides atómicos}

Para cualquier elemento $a\neq 1$ de un monoide $M$, definomos

$$\norm{a}=\sup\{r\geq 1\ | a=a_1\cdot\cdot\cdot a_r,a_1,...,a_r\in M-\{1\}\}$$
\newline
Según esta definición $\norm{a}\in\{1,2,...,\infty\}$. Establecemos que $\norm{1}=0$. Es fácil de ver que para todo $a,b\in M$

$$\norm{ab}\geq\norm{a}+\norm{b}$$
\newline
Observar que$\norm{a}=0$ si y solo si $a=1$. A un elemento $a\in M$ se le llama átomo si $\norm{a}=1$. En otras palabras, $a\in M$ es un átomo si $a\neq 1$ y $a=a_1\cdot\cdot\cdot a_r$ implica que $a_i=1$ para todo $i$ excepto uno. Cualquier $a\in M$ con $\norm{a} < \infty$ tiene una expansión $a=a_1\cdot\cdot\cdot a_r$, donde $\norm{a}=r$ y $a_1,...,a_r$ son átomos. Esto justifica la siguiente definición. Un monoide $M$ es \textit{atómico} si $\norm{a} < \infty$ para todo $a\in M$.

\begin{lema}
Si dos elementos $a,b$ de un monoide atómico $M$ satisfacen $a\preceq b$ y $b\preceq a$, entonces $a=b$.De igual manera, si $a\succeq b$ y $b\succeq a$, entonces $a=b$.
\label{lema:rel2}
\end{lema}
\ 
\newline
\textit{Demostración.} Ya que $a\preceq b\preceq a$, significa que existen $u,v\in M$ tal que $b=au$ y $a=bv$. Entonces $a=auv$ y

$$\norm{a}=\norm{auv}\geq \norm{a}+\norm{u}+\norm{v}$$

Esto implica que $\norm{u}=\norm{v}=0$. Por tanto $u=v=1$ y $a=b$. La relación $\succeq$ es tratada de forma similar.

\qed

Los Lemas \ref{lema:rel1} y \ref{lema:rel2} implican que las relaciones $\preceq$ y $\succeq$ en un monoide atómico son ordenes parciales. Dado un subconjunto $E$ de un monoide atómico $M$, decimos que un elemento $a\in E$ es \textit{maximal} (resp. \textit{minimal}) con respecto a $\preceq$, si $b\preceq a$ (resp. $a\preceq b$) para todo $b\in E$. Un elemento maximal (resp. minimal) de $E$ podría no exisitir, pero si existe, es único por el Lema \ref{lema:rel2}. Definiciones equivalentes se obtienen con la relación $\succeq$.
\newline
\newline
La ecuación $ab=1$ en un monoide atómico $M$ tiene como única solución $a=1,b=1$. De hecho, si $ab=1$ para $a,b\in M$, entonces $1\preceq a \preceq 1$, por lo tanto $a=1$ y $b=1$. En particular, el elemento neutro es el unico elemento invertible de $M$.

\subsection{Presentaciones de un monoide}
Consideramos un conjunto $X$ y un subconjunto $R$ de $X^*\times X^*$. Sea $\sim$ la relación de equivalencia más pequeña conteniendo los pares $(\omega_1r\omega_2, \omega_1r'\omega_2)$, donde $(r,r')\in R$ y $\omega_1,\omega_2\in X^*$. En otras palabras, $\sim$ es la relación de equivalencia más pequeña en $X^*$ tal que $\omega_1r\omega_2\sim\omega_1r'\omega_2$ para todo $(r,r')\in R$ y $\omega_1,\omega_2\in X^*$. Definimos $M$ como el conjunto de clases de equivalencia inducido por $\sim$. Esta claro que $M$ tiene la única estructura de monoide tal que la proyección $P:X^*\rightarrow M$ es un homomorfismo de monoide. Decimos que $\langle X|R\rangle$ es una \textit{presentación de monoide} de $M$ y llamamos a los elementos de $X$ \textit{generadores} y a los elementos de $R$ \textit{relaciones}.
\newline
\newline
Esta claro que el conjunto $P(X)\subset M$ genera $M$ en el sentido de que cada elemento de $M$ es un producto de elementos de este conjunto. Para cada relación $(r,r')\in R$, el elemento $P(r)=P(r')$ de $M$ se le llama \textit{relator} asociado a la presentación $\langle X|R\rangle$. Como notación habitual se usa $r=r'$ para la relación $(r,r'\in R)$ y no se hace distinción entre un generador $x\in X$ y su proyección $P(x)$ en $M$.
\newline
\newline
Introducimos varios tipos de presentaciones de monoides que nos serán de utilidad. Una presentación de monoide $\langle X|R\rangle$ es finita si $X$ y $R$ son finitos. Una presentación $\langle X|R\rangle$ de un monoide $M$ se dice \textit{ponderada} si existe un homomorfismo de monoide $\ell:M\rightarrow \mathbb{N}$ tal que $\ell(x)\geq 1$ para todo $x\in X$. El homomorfismo $\ell$ se llama \textit{peso}.
\newline
\newline
Una presentacion $\langle X|R\rangle$ de un monoide $M$ se dice \textit{equilibrada en longitud} si $l(r)=l(r')$ para todo $(r,r')\in R$, donde $l$ es la función longitud en $X^*$ introducida anteriormente. La formula $\ell(x)=1$ para todo $x\in X$ define un \textit{peso canónico} $\ell:M\rightarrow \mathbb{N}$.

\begin{lema}
Si un monoide $M$ tiene una representación ponderada $\langle X|R\rangle$, entonces $M$ es atómico y todos sus átomos estan contenidos en el conjunto $X$ de generadores. Si $M$ tiene una presentación equilibrada en longitud $\langle X|R\rangle$, entonces el conjunto de átomos de $M$ coincide con $X$ y $\norm{a}=\ell(a)$ para todo $a\in M$, donde $\ell$ es el peso canónico en $M$.
\label{lema:presen_mono}
\end{lema}

\textit{Demostración.} Sea $\ell: M\rightarrow \mathbb{N}$ un homomorfismo de monoide tal que $\ell(x)\geq 1$ para todo generador $x\in X$. Entonces $\ell(a)\geq 1$ para todo $a\in M-\{1\}$. Si $a\in M$ se expande como el producto $a_1\cdot\cdot\cdot a_r$ con $a_1,...,a_r\in M-\{1\}$, entonces $\ell(a)=\ell(a_1)+\cdot\cdot\cdot+\ell(a_r)\geq r$. Por tanto $\ell(a)\geq \norm{a}$. Que todos los átomos de $M$ pertenecen a $X$ viene del hecho de que cualquier conjunto que genere un monoide debe contener a sus átomos, ya que estos no se pueden obtener como producto de otros elementos y forman parte del monoide.

\qed

\subsection{El problema de palabra y el problema de divisibilidad}

El \textit{problema de palabra} para una representación $\langle X|R\rangle$ de un monoide $M$ consiste en que dadas dos palabras $\omega,\omega'\in X^*$ representando a los elementos $a,a'\in M$, determinar si $a=a'$. El \textit{problema de dibisibilidad por la izquierda} (resp. \textit{derecha}) esta estrechamente relacionado y consiste en que dadas
dos palabras $\omega,\omega'\in X^*$ representando a los elementos $a,a'\in M$, determinar si $a\preceq a'$ (resp. $a'\succeq a$).
\newline
\newline
Tanto el problema de palabra como el problema de divisibilidad pueden ser facilmente resueltos con una representación finita $\langle X|R\rangle$ de $M$. Sea $\ell:M\rightarrow\mathbb{N}$ un peso, de manera que $\ell(x)\geq 1$ para todo $x\in X$. Observar que el valor de $\ell$ para cualquier $a\in M$ representado por cualquier palabra no vacía $\omega\in X^*$ es mayor o igual que la longitud de $\omega$. Sea $W(a)\subset X^*$
 el conjunto de palabras representando a $a$. Todas esas palabras tienen longitud menor que $\ell(a)$. Ya que $X$ es finito, el número de palabras de menor longitud que $\ell(a)$ es finito y por tanto también lo es el conjunto $W(a)$. Para listar todos los posibles elementos de $W(a)$, uno comienza con la palabra que representa $a$ y consecutivamente aplica todas las posibles subtituciones del tipo
 

$$\omega_1 r\omega_2\leftrightarrow \omega_1 r'\omega_2\ \ \ (r,r')\in R$$

a cualquier elemento de $W(a)$ ya encontrado. Ya que $R$ es finito, este procedidimiento es también finito. Ya que $R$ es finito, este procedimiento también es finito. Esto da una solución al problema de palabra. Dadas dos palabras $\omega,\omega'\in X^*$ representando a $a,a'\in M$ respectivamente, sabemos que $a=a'$ si $W(a)=W(a')$. 
\newline
\newline
También obtenemos una solución para el problema de divisibilidad por la izquierda y por la derecha. Se tiene que $a\preceq a'$ si y solo si algún prefijo (segmento inicial) de una palabra en $W(a')$ pertenece a $W(a)$. De igual manera, $a'\succeq a$ si y solo si algún sufijo (segmento final) de una palabra en $W(a')$ pertenece a $W(a)$

\section{Formas normales y el problema del conjugado}

Ahora vamos a introducir y estudiar un cierto monoide $M_\Sigma$ derivado de un subconjunto $\sigma$ de cierto monoide $M$. Bajo la presunción de hipotesis favorables, obtenemos una forma normal para los elementos de $M_\Sigma$ y resolvemos el problema del conjugado en $M_\Sigma$.

\subsection{El monoide $M_\Sigma$}

Sea $M$ un monoide y $\Sigma\subset M$ un subconjunto de $M$ conteniento el elemento neutro $1$. Sea $M_\Sigma$ un monoide generado por los simbolos $[a]$, donde $a\in \Sigma$, partiendo de la definición de las relaciones $[1]=1$ y $[a][b]=[ab]$, siempre que $a,b,ab\in\Sigma$. Existe un homomorfismo de monoide $p:M_\sigma\rightarrow M$ definido por $p([a])=a$ para todo $a\in\Sigma$.
\newline\newline
Otra definición equivalente de $M_\Sigma$ puede hacerse identificando el producto $[a_1]\cdot\cdot\cdot[a_r]$ en $M_\Sigma$ (donde $a_,...,a_r\in \Sigma$) con la sucesión $(a_1,...,a_r)$. Entonces $M_\Sigma$ es el conjunto de clases de equivalencia de sucesiones finitas $(a_1,...,a_r)$ de elementos de $\Sigma$ bajo la equivalencia generada por

$$(a_1,...,a_{i-1}, a_i'a_i'',a_{i+1},...,a_r)\sim (a_1,...,a_{i-1}, a_i',a_i'',a_{i+1},...,a_r)$$

siempre que $a_i'a_i''\in\Sigma$. La sucesión vacía es equivalente a la sucesión de un elemento $(1)$, donde $1\in\Sigma$. El producto en $M_\Sigma$ esta inducido por la concatenación de sucesiones.


\begin{teor}
\label{teor:monoi_deriv}
Sea $M$ un monoide atómico y $\Sigma$ un subconjunto de $M$ tal que $1\in \Sigma$ y cumple las siguientes condiciones:
\begin{enumerate}
\item Todos los divisores por la izquierda y por la derecha de elementos de $\Sigma$ pertenecen a $\Sigma$.
\item Para cualesquiera $a,b,c\in \Sigma$, si $ab=ac$ o $ba=ca$, entonces b=c.
\item Para cualesquiera $a,b,c\in \Sigma$, el conjunto $\{x\in\Sigma:x\preceq b,\ ax\in\Sigma\}$ tiene un elemento máximal (con respecto a $\preceq$).
\end{enumerate}
Entonces para cualquier $\xi\in M_\Sigma$, hay un único $\alpha(\xi)\in\Sigma$ tal que $[\alpha(\xi)]$ es un divisor por la izquierda de $\xi$ que es el máximal de entre todos los divisores por la izquierda de $\xi$ que se encuentrar en el conjunto $\{[a]\}_{a\in\Sigma}\subset M_\Sigma$. Además, hay un único $\omega(\xi)\in M_\Sigma$ tal que $\xi=[\alpha(\xi)]\omega(\xi)$.
\end{teor}

\textit{Demostración.} La prueba consiste de cinco pasos.
\newline
\textit{Paso 1.} Por la tercera hipótesis, para cualquier $a,b\in\Sigma$, el conjunto $\{x\in\Sigma:x\preceq b,\ ax\in\Sigma\}$ tiene un elemento maximal $c\in\Sigma$. Entonces $b=cd$ para algún $d\in M$. Por la primera hipótesis, $d\in\Sigma$, y por la segunda, $d$ es único. Sea $\alpha_2(a,b)=ac\in\Sigma$ y $\omega_2(a,b)=d\in\Sigma$. Claramente se tiene

\begin{equation}
\label{eq:div_max}
\alpha_2(a,b)\omega_2(a,b)=ab
\end{equation}

Nuestro objetivo en este paso va a ser probar las siguientes igualdades. Dados $a,b,c\in\Sigma$ tal que $a,b\in\Sigma$

\begin{equation}
\label{eq:alfa_com}
\alpha_2(ab,c)=\alpha_2(a,\alpha_2(b,c))
\end{equation}
\begin{equation}
\label{eq:omega_com}
\omega_2(ab,c)=\omega_2(a,\alpha_2(a,b))\omega_2(b,c)
\end{equation}

Podemos usar la siguiente observación. Si $a,b,c\in M$ satisfacen que $ac\in\Sigma$ y $ab\preceq ac$, entonces $b\preceq c$. De hecho, si $ac=abd$ con $d\in M$, entonces la presunción de que $ac\in\Sigma$ junto con la primera hipótesis implica que $a,c,bd\in\Sigma$. Por la segunda hipótesis tenemos que $c=bd$

Por definición, $\alpha_2(b,c)=bd$, donde $d$ es maximal tal que $d\preceq c$ y $bd\in \Sigma$. Entonces

$$\alpha_2(a,\alpha_2(b,c))=\alpha_2(a,bd)=ad'$$
\newline
donde $d'$ es maximal tal que $d'\preceq bd$ y $ad'\in\Sigma$. Ya que $b\preceq bd$ y $ab\in\Sigma$ (por hipótesis), al ser $d'$ maximal se tiene que $b\preceq d'$. Escribiendo $d'=be$ con $e\in\Sigma$, obtenemos que $\alpha_2(a,bd)=abe$, con $be\preceq bd\in\Sigma$ y $abe\in\Sigma$. Por la observación hecha previamente vemos que $e\preceq d\preceq c$, asi que $e\preceq c$. Ahora $\alpha_2(ab,c)=abf$, donde $f$ es maximal tal que $f\preceq c$ y $abf\in\Sigma$. Por tanto, $e\preceq f$. Por otra parte, $f\preceq c$ y $bf\in\Sigma$. Esto y la inclusion de $abf\in\Sigma$ implica que $bf\preceq d' = be$. Por tanto, $f\preceq e$. Por el Lema \ref{lema:rel2} $e=f$ y

$$\alpha_2(ab,c)=abf=abe=ad'=\alpha_2(a,\alpha_2(b,c))$$

Esto prueba la igualdad (\ref{eq:alfa_com}). Para probar la igualdad (\ref{eq:omega_com}) observar (\ref{eq:div_max}) y (\ref{eq:alfa_com}).

$$\alpha_2(ab,c)\omega_2(a,\alpha_2(b,c))\omega_2(b,c)=\alpha_2(a,\alpha_2(b,c))\omega_2(a,\alpha_2(b,c))\omega_2(b,c)$$

$$=a\alpha_2(b,c)\omega_2(b,c)=abc=\alpha_2(ab,c)\omega_2(ab,c)$$

Por la segunda condición, para deducir (\ref{eq:omega_com}) es suficiente probar que el producto $\omega_2(a,\alpha_2(b,c))\omega_2(b,c)$ pertenece a $\Sigma$. Por definición, existe $d\in\Sigma$ tal que $\alpha_2(b,c)=bd\in\Sigma$ y $c=d\omega_2(b,c)$. Sea $f$ el elemento maximal de $\Sigma$ tal que $f\preceq bd$ y $af\in\Sigma$. Ya que $b\preceq bd$ y $ab\in\Sigma$, existe $e\in\Sigma$ tal que $f=be$. Entonces

$$bd=f\omega_2(a,bd)=be\omega_2(a,bd)$$

Por la segunda condición, $d=e\omega_2(a,bd)$ y

$$e\omega_2(a,\alpha_2(b,c))\omega_2(b,c)=e\omega_2(a,bd)\omega_2(b,c)=d\omega_2(b,c)=c$$

Esto demuestra que $\omega_2(a,\alpha_2(b,c))\omega_2(b,c)$ es divisor por la derecha de $c\in\Sigma$, por tanto es un elemento de $\Sigma$.

\textit{Paso 2}. En este paso probaremos la siguiente afirmación. Existe una única función $\alpha:M_\Sigma\rightarrow\Sigma$ tal que

\begin{enumerate}[label=\roman*.]
\item $\alpha(1)=1$
\item $\alpha([a]\eta)=\alpha_2(a,\alpha(\eta))$ para todo $a\in\Sigma$, $\eta\in M_\Sigma$
\end{enumerate}

Recordamos el homomorfismo de monoide $p:M_\Sigma\rightarrow M$. Para cualquier $\xi\in M_\Sigma$ definimos $H(\xi)=\norm{p(\xi)}\geq 0$. Llamamos a $H(\xi)$ el peso de $\xi$. Esta claro que

$$H(\xi\xi')\geq H(\xi)+H(\xi')$$
\newline

para cualesquiera $\xi\xi'\in M_\Sigma$. Observar que $H(\xi)=0$ si y solo si $\xi=1$, y $H(\xi)=1$ si y solo si $\xi=[a]$, donde $a$ es un átomo de $M$ perteneciente a $\Sigma$. Para ver esto, romamos una expansión $\xi=[a_1]\cdot\cdot\cdot[a_r]$ con $a_1,...,a_r\in\Sigma$. Entonces

$$H(\Sigma)=\norm{p(\xi)}\geq\norm{a_1}+\cdot\cdot\cdot\norm{a_r}$$

Si $H(\xi)=0$, entonces $a_1=\cdot\cdot\cdot=a_r=1$ y $\xi=1$. Si $H(\xi)=1$, entonces todos los elementos $a_1,...,a_r\in\Sigma$ son iguales a $1$ excepto un elemento, el cual es un átomo.
\newline
\newline
Dado $\xi\in M_\Sigma$, definimos $\alpha(\xi)$ por inducción sobre el peso de $\xi$. Para $\xi=1$ establecemos $\alpha(\xi)=1\in\Sigma$. Si $H(\xi)=1$, entonces $\xi=[a]=[a]1$ para algún átomo $a\in\Sigma$, y para satisfacer (ii) establecemos que $\alpha(\xi)=\alpha_2(a,1)=a$.
\newline
\newline
Tomamos un entero $k\geq 1$ y suponemos que $\alpha(\xi)$ esta definido para todo $\xi$ de peso menor o igual que $k$ de manera que las condiciones (i), (ii) se satisfacen siempre que $H([a]\eta)\leq k$. Sea $\xi$ un elemento de $M_\Sigma$ de peso $k+1$. Podemos expandir $\xi=[a]\eta$, donde $a\in\Sigma$, $a\neq 1$ y $\eta\in M_\Sigma$. Entonces $H([a])\geq 1$ y $H([\eta]) < H([a]\eta)$, asi que $\alpha(\eta)$ esta ya definido. Para satisfacer (ii) establecemos $\alpha(\xi)=\alpha_2(a,\alpha(\eta))$. Debemos comprobar que $\alpha_2(a,\alpha(\eta))$ no depende de la elección de la expansión $\xi=[a]\eta$. Por definición de $M_\Sigma$ y por la hipotesis de inducción, es suficiente con comprobar que 

$$\alpha_2(a,\alpha(\eta))=\alpha_2(a',\alpha([a'']\eta))$$
\newline
\newline
donde $a=a'a''$ con $a',a''\in \Sigma -\{1\}$. Ya que

$$H([a'']\eta)\leq H([a]\eta) - H([a'])<H([a]\eta)$$
\newline

la hipotesis de inducción nos da que $\alpha([a''])=\alpha_2(a'',\alpha(\eta))$. Por la igualdad (\ref{eq:alfa_com}) 

$$\alpha_2(a',\alpha([a'']\eta))=\alpha_2(a',\alpha_2(a'',\alpha(\eta)))=$$
$$=\alpha_2(a'a'',\alpha(\eta))=\alpha_2(a,\alpha(\eta))$$

Por tanto $\alpha$ esta bien definido para los elementos de $M_\Sigma$ de peso menor o igual que $k +1$ y satisface las condiciones (i) y (ii). Esto completa la inducción y prueba nuestra afirmación.
\newline
\newline
\textit{Paso 3}. Ahora comprobamos que para cualquier $\xi\in M_\Sigma$, el elemento $[\alpha(\xi)]\in M_\Sigma$ es un divisor por la izquierda de $\xi$ que es maximal entre todos los divisores por la izquierda de $\xi$ que se encuentrar en el conjunto $\{[a]\}_{a\in\Sigma}\subset M_\Sigma$.
\newline
\newline
Utilizando la proyección $p:M_\Sigma\rightarrow M$, es fácil demostrar que todos los divisores de $1\in M_\Sigma$ son iguales a $1$. Por tanto si $H(\xi)=0$, entonces $[\alpha(\xi)]=\xi=1$ es el único divisor por la izquierda de $1\in\Sigma$. Si $H(\xi)\geq 1$, escribimos $\xi=[a]\eta$ para algún $a\in\Sigma - \{1\}$ y $\eta\in M_\Sigma$. Entonces $H(\eta)< H(\xi)$ y $\alpha(\xi)=\alpha_2(a,\alpha(\eta))$. Por tanto, $\alpha(\xi)=ab$ para algún $b\in\Sigma$ tal que $b\preceq \alpha(eta)$. Por el supuesto de inducción, $[\alpha(\eta)]$ es un divisor por la izquierda de $\eta$. Por tanto

$$[\alpha(\xi)]=[ab]=[a][b]\preceq [a][\alpha(\eta)]\preceq [a]\eta=\xi$$
\newline
\newline
Esto demuestra que $[\alpha(\xi)]$ es divisor por la izquierda  de $\xi$ perteneciente a $\{[a]\}_{a\in\Sigma}$. Veamos que $[\alpha(\xi)]$ es maximal. Supongamos que $\xi=[a']\eta'$
para algún $a'\in\Sigma$, $\eta'\in M_\Sigma$. Entonces $\alpha(\xi) =\alpha_2(a',\alpha(\eta'))=a'b'$ para algún $b'\in\Sigma$. Por tanto, $a'\preceq \alpha(\xi)$ y $[a']\preceq [\alpha(\xi)]$
\newline
\newline
\textit{Paso 4.} Existe una única función $\omega:M_\Sigma\rightarrow\Sigma$ tal que

\begin{enumerate}[label=\roman*.]
\item $\omega(1)=1$
\item $\omega([a]\eta)=[\omega_2(a,\alpha(\eta))]\omega(\eta)$ para todo $a\in\Sigma$, $\eta\in M_\Sigma$
\end{enumerate}

El valor de $\omega$ para cualquier $\xi\in M_\Sigma$ esta definido por inducción sobre el peso de $\xi$. Establecemos que $\omega(1)=1$. Tomamos un entero $k\geq 1$ y suponemos que $\omega(\xi)$ esta definido para todo $\xi$ de peso menor o igual que $k$, de manera que las condiciones (i) y (ii) se satisfacen siempre que $H([a]\eta)\leq k$. Sea $\xi=[a]\eta$ un elemento de $M_\Sigma$ de peso $k+1$ con un $q\in\Sigma - \{1\}$ y $\eta\in M_\Sigma$. Entonces $H(\eta)< H(\xi)$ y $\omega(\eta)$ esta definido. Para satisfacer (ii), establecemos que 

$$\omega(\xi)=[\omega_2(a,\alpha(\eta))]\omega(\eta)$$

Debemos de comprobar que $\omega(\xi)$ es independiente de la elección de expansión $\xi=[a]\eta$. Por definición de $M_\Sigma$ y la inducción de hipotesis, es suficiente con comprobar que

$$\omega_2(a,\alpha(\eta))\omega(\eta)=\omega_2(a',\alpha([a'']\eta))\omega([a'']\eta)$$

donde $a=a'a''$ con $a',a''\in\Sigma-\{1\}$. Sabemos que $\alpha([a'']\eta)=\alpha_2(a'',\alpha(\eta))$. Ya que $H([a'']\eta) < H([a]\eta)$, la hipótesis de inducción nos da la igualdad $\omega([a'']\eta)=[\omega_2(a'',\alpha(\eta))]\omega(\eta)$. Por la igualdad (\ref{eq:omega_com})


$$\omega_2(a',\alpha([a'']\eta))\omega([a'']\eta)=\omega_2(a',\alpha_2(a'',\alpha(\eta)))\omega([a'']\eta)=$$

$$= \omega_2(a',\alpha_2(a'',\alpha(\eta)))[\omega_2(a'',\alpha(\eta))]\omega(\eta)=$$

$$ =\omega_2(a'a'',\alpha(\eta))\omega(\eta)=  \omega_2(a,\alpha(\eta))\omega(\eta)$$
\newline
\newline
Por tanto $\omega$ esta bien definido para los elementos de $M_\Sigma$ de peso menor o igual que $k+1$ y satisface las condiciones (i) y (ii). Esto completa la inducción y prueba nuestra afirmación.







\subsection{Forma nomal en $M_\Sigma$}

Bajo las hipotesis del Teorema \ref{teor:monoi_deriv} , cualquier $\xi$ puede ser expandido inductivamente

$$\xi=[\alpha(\xi)]\omega(\xi)=[\alpha(\xi)][\alpha(\omega(\xi))]\omega^2(\xi)=$$
$$=[\alpha(\xi)][\alpha(\omega(\xi))][\alpha(\omega^2(\xi))]\omega^3(\xi)=\cdot\cdot\cdot$$

Este proceso de expansión puede ser parado en el $r$-ésimo paso, donde $r$ el el mínimo entero tal que $\omega^{r+1}(\xi)=1$. Tal $r$ existe ya que una expansión de $\xi$ como producto de  generadores de $[a]$ con $a\in\Sigma$ tiene como mucho un cierto $k$ (visto en la demostración del Teorema \ref{teor:monoi_deriv}) de generadores distintos de $1$.
\newline\newline

Esta observación nos lleva a una forma normal para cada elemento de $M_\Sigma$. Una \textit{forma normal} para $\xi\in M_\Sigma$ para una sucesión $(a_1,a_2,...,a_r)$ de elementos de $\Sigma$, todos diferentes de $1$, tal que $\xi=[a_1][a_2]\cdot\cdot\cdot[a_r]$ y 

$$a_i=\alpha([a_1][a_2]\cdot\cdot\cdot[a_r])$$

para todo $i=1,2,...,r$. La unicidad en la última afirmación del Teorema \ref{teor:monoi_deriv} implica la unicidad de la forma normal.


\subsection{La cancelatividad de $M_\Sigma$}

Usamos el Teorema \ref{teor:monoi_deriv} y la función $\alpha_2:\Sigma\times\Sigma\rightarrow\Sigma$ introducida en la prueba para establecer la cancelatividad por la izquierda de $M_\Sigma$.

\begin{lema}
Bajo las hipótesis del Teorema \ref{teor:monoi_deriv}, el monoide $M_\Sigma$ es cancelativo por la izquierda.
\label{lema:cancel}
\end{lema}

\textit{Demostración.} Necesitamos demostrar que $\xi\eta=\xi\theta\Rightarrow\eta=\theta$ para todo $\xi,\eta,\theta\in M_\Sigma$. Suponemos primero que $\xi=[a]$ para algún $a\in\Sigma$. Entonces $\alpha(\xi\eta))=\alpha_2(a,\alpha(\eta))=ab\in\Sigma$ para algún $b\in\Sigma$ tal que $b\preceq \alpha(\eta)$

$$ab=\alpha(\xi\eta)=\alpha(\xi\theta)=\alpha([a]\theta)=\alpha_2(a,\alpha(\theta))=ac$$

para algún $c\preceq\alpha(\theta)$ implica que $b=c\preceq\alpha(\theta)$. Entonces existen $\eta',\theta'\in M_\Sigma$ tal que $[b]\eta'=\eta$ y $[b]\theta'=\theta$. Como ya sabemos, $\omega(\xi\eta)$ es el único elemento $x\in M_\Sigma$ tal que $\xi\eta=[\alpha(\xi\eta)]x=[ab]x$. Ya que

$$\xi\eta=[a][b]\eta'=[ab]\eta'$$

tenemos que $\omega(\xi\eta) = \eta'$. De igual manera, $\omega(\xi\theta)=\theta'$. Por tanto,

$$\eta'=\omega(\xi\eta)=\omega(\xi\theta)=\theta'$$
$$\eta=[b]\eta'=[b]\theta'=\theta$$

En general, $\xi=[a_1][a_2]\cdot\cdot\cdot[a_r]$ con $a_1,a_2,...,a_r\in\Sigma$. Como ya sabemos, $[a_1][a_2]\cdot\cdot\cdot[a_r]\eta=[a_1][a_2]\cdot\cdot\cdot[a_r]\theta$ implica que $[a_2]\cdot\cdot\cdot[a_r]\eta=[a_2]\cdot\cdot\cdot[a_r]\theta$. Repitiendo este proceso, obtenemos que $\eta=\theta$.

\qed

\subsection{El problema de palabra en $M_\Sigma$}

Decimos que el conjunto $\Sigma\subset M$ esta ponderado si la función $\ell:\Sigma\rightarrow\mathbb{N}$ tal que $\ell(1)=0,\ \ell(a)\geq 1$ para $a\neq 1$, y $\ell(ab)=\ell(a)+\ell(b)$ siempre que $a,b,ab\in\Sigma$. La función $\ell$ se extiende al homomorfismo de monoide $M_\Sigma\rightarrow\mathbb{N}$ que convierte la presentación de $M_\Sigma$ en una presentación ponderada. Además, si $\Sigma$ es finito, ya hemos visto una solución al problema de palabra y al problema de divisibilidad en $M_\Sigma$.

\subsection{El problema del conjugado en $M_\Sigma$}
El \textit{problema del conjugado en un grupo} $G$ consiste en encontrar un procedimiento que nos permita, dados $\alpha,\beta\in G$, decidir si existe $\gamma\in G$ tal que $\alpha=\gamma\beta\gamma^{-1}$ o, equivalentemente, $\alpha\gamma=\gamma\beta$. Por extensión, el \textit{problema del conjugado en un monoide} $M$ consiste en encontrar un procedimiento que nos permita, dados $a,b\in M$, decidir si existe $c\in M$ tal que $ac=cb$. El siguiente lema es la clave para el problema del conjugado en $M_\Sigma$.

\begin{lema}
Sea $M,\Sigma\subset M$ satisfaciendo las hipótesis del Teorema \ref{teor:monoi_deriv}. Dados $a,b\in M_\Sigma$, existe $c\in M_\Sigma$ tal que $ac=cb$ si y solo si existe una una sucesión $a=a_0,a_1,\ldots,a_r=b$ de elementos de $M_\Sigma$ y una sucesión $c_1,\ldots,c_r$ de elementos de $\Sigma$ tal que

$$a_{i-1}[c_i]=[c_i]a_i\ \ \ \ i=1,\ldots,r $$

\label{lema:conjugado}
\end{lema}

\textit{Demostración.} Si nosotros tenemos tales sucesiones, entonces $ac=cb$ para $c=[c_1][c_2]\cdots[c_r]$. En la otra implicación tenemos que $c\in M_\Sigma$ tal que $ac=cb$. Demostramos la afirmación por inducción en la longitud $r$ de la forma normal $(c_1,\ldots,c_r)$ de $c$. Si $r=1$, entonces $c = [c_1]$ y queda probado. Supongamos que $r\geq 2$.

$$[c_1]=[\alpha(c)]\preceq c \preceq cb = ac$$

Tenemos que

$$c_1\preceq\alpha(ac)=\alpha_2(a,\alpha(c))=\alpha_2(a,c_1)$$

Por tanto
$$[c_1]\preceq [\alpha_2(a,c_1)]\preceq ac_1$$

Existe $a_1\in M_\Sigma$ tal que

$$[c_1]a_1=a[c_1]$$

por lo que obtenemos que 

$$[c_1]a_1[c_2]\cdots[c_r]=a[c_1][c_2]\cdots[c_r]=ac=cb=[c_1][c_2]\cdots[c_r]b$$

Por el Lema \ref{lema:cancel}, podemos dividir por la izquierda por $[c_1]$. Esto nos da que $a_1c'=c'b$, donde $c'=[c_2]\cdots[c_r]$ tiene una forma normal de longitud $r-1$ a la que se le puede aplicar la hipótesis de inducción.

\qed

El Lema \ref{lema:conjugado} nos da una solución al problema del conjugado en $M_\Sigma$. Suponemos que $M,\Sigma$ satisfacen las condiciones del Teorema \ref{teor:monoi_deriv} y que $\Sigma$ es finito. Suponemos también que $M_\Sigma$ admite una presentación ponderada finita de manera que el problema de palabra tiene solución. Para determinar si dos elementos $a,b\in M_\Sigma$ son conjugados, primero hay que observar que elementos conjugados de $M_\Sigma$ tienen el mismo peso. Ya que solo hay un número finito de elementos de $M_\Sigma$ para un peso específico, $a$ tiene un número finito de conjugados. El Lema \ref{lema:conjugado} nos dice que, con el objetivo de encontrarlos todos, es suficiente aplicar todas las posibles conjugaciónes por elementos de $\Sigma$ para conocer todos los conjugados de $a$ hasta que no se encuentren nuevos elementos. Así obtenemos una lista finita $a_1,\ldots,a_s$ de conjugados de $a$ en $M_\Sigma$. Si $b=a_i$ para algún $i$, entonces $b$ es conjugado de $a$. Si no es así, entonces $b$ no es conjugado de $a$.

\subsection{Conjuntos exhaustivos}

Un conjunto $\Sigma\subset M$ es \textit{exhaustivo} si $1\in\Sigma$ y $M$ tiene una presentación cuyos generadores y relaciones pertenecen a $\Sigma$.

\begin{lema}
Si $\Sigma$ es un subjongunto exhaustivo de un monoide $M$ tal que todos los divisores por la izquierda de los elementos de $\Sigma$ pertenecen a $\Sigma$, entonces el homomorfismo de monoide $p:M_\Sigma\rightarrow M$ es un homomorfismo.
\label{lema:iso_mono}
\end{lema}

\textit{Demostración.} Ya que $\Sigma$ contiene un conjunto de generadores de $M$, el homomorfismo $p$ es sobreyectiva. Solo necesitamos probar que es inyectiva. Observamos primero que si $a_1,a_2,\ldots,a_n$ son elementos de $\Sigma$ con $n\geq 2$ tal que $a=a_1a_2\cdots a_n\in\Sigma$, entonces $a=[a_1][a_2]\cdots [a_n]$. De hecho, $a_1a_2$ es divisor por la izquierda de $a$ y por tanto $a_1a_2\in\Sigma$. Por definición de $M_\Sigma$, tenemos que $[a_1][a_2]=[a_1a_2]$. Continuando por inducción obtenemos que $[a_1][a_2]\cdots[a_n]=[a]$.
\newline
\newline
Cosideramos ahora una presentación $\langle X| R\rangle$ de $M$ por generadores y relaciones y sea $P:X^*\rightarrow M$ la proyección natural. Asumimos que $P(x)\in\Sigma$ para todo $x\in X$ y $P(r)=P(r')\in\Sigma$ para todo $(r,r')\in R$. Definimos un homomorfismo de monoide $Q:X^*\rightarrow M_\Sigma$ por $Q(x)=[P(x)]$ para $x\in X$. La observación anterior implica que para cualquier $r\in X^*$ con $P(r)\in\Sigma$, tenemos que $Q(r)=[P(r)]$. Por tanto para cualquier relación $(r,r')\in R$ tenemos que

$$Q(r)=[P(r)]=[P(r')]=Q(r')$$

Esto implica que existe un homomorfismo de monoide $q:M\rightarrow M_\Sigma$ tal que $Q=qP$. Entonces

$$qp([P(x)])=q(P(x))=Q(x)=[P(x)]$$

para todo $x\in X$. Ya que el conjunto $P(X)$ genera $M$, tenemos $qp=id$. Por tanto $p$ es inyectiva.

\qed
\newline
\newline
El Lema \ref{lema:iso_mono} nos muestra que bajo las hipótesis apropiadas sobre $\Sigma$ tenemos que $M_\Sigma\cong M$, asi que todas las propiedades de $M_\Sigma$ las obtiene $M$.




\section{Grupo de fracciones y monoides pre-Garside}
\subsection{Grupo de fracciones}

Un homomorfismo de monoide $i:M\rightarrow G$ se dice que es \textit{universal} si $G$ es un grupo y para cualquier homomorfismo de monoide $f$ de $M$ a un grupo arbitrario $G'$, existe un único homomorfismo de grupo $g:G\rightarrow G'$ tal que $f=gi$. Cada monoide $M$ admite un homomorfismo universal a un grupo. Para ver esto, tomamos una representación arbitraria $\langle X | R \rangle$ de $M$ por generadores y relaciones y consideramos el grupo $G$ definido por $\langle X | R \rangle$ visto como una presentación de grupo. La función identidad $id_X:X\rightarrow X$ extiende a un homomorfismo de monoide $M\rightarrow G$, el cual es fácil ver que es universal. La definición de un homomorfismo universal $M\rightarrow G$ implica que hay una única composición con un isomorfismo de grupo. En particular, el grupo $G$ esta bien definido para isomorfismo. Este grupo llamado \textit{grupo de fracciones} de $M$ es denotado por $G_M$. Una presentación de $G_M$ por generadores y relaciones se puede obtener tomando una representación del monoide $M$ arbitraria de generadores y relaciones y verla como una representación de grupo.
\newline
\newline
Un monoide $M$ es \textit{embebible} si existe un homomorfismo de monoide inyectivo de $M$ a un grupo. Es claro que $M$ es embebible si y solo si el homomorfismo universal de $M\rightarrow G_M$ es inyectvo. Por ejemplo, la inclusión $\mathbb{N}\hookrightarrow\mathbb{Z}$ demuestra que $\mathbb{N}$ es embebible. Es facil ver que la inclusión es un homomorfismo universal tal que $G_\mathbb{N}=\mathbb{Z}$.
\newline
\newline
Claramente, los monoides embebibles son cancelativos por la izquierda y por la derecha. Por ejemplo, el monoide $\{1,x\}$, con $xx=x$ no es cancelativo por la izquierda. El grupo de fracciones de este monoide es trivial.

\subsection{Monoides pre-Garside}

\begin{defi}
Un monoide pre-Garside es un par que consiste de un monoide $M$ y un elemento $\Delta$ de $M$ tal que el conjunto $\Sigma=\Sigma_\Delta$ de divisores por la izquierda de $\Delta$ satisface las siguientes condiciones:

\begin{enumerate}
\item $\Sigma$ es finito, genera $M$ y  coincide con el conjunto de divisores por la derecha de $\Delta$.
\item Si $a,b\in\Sigma$ cumplen que $\Delta a=\Delta b$ o $a\Delta=b\Delta$, entonces $a=b$
\end{enumerate}
\label{defi:pre-garside}
\end{defi}

El elemento $\Delta\in M$ se llama \textit{elemento de Garside} de $M$. Observar que el conjunto $\Sigma$ de los divisores de $\Delta$ es cerrado bajo la divisibilidad por la izquierda y por la derecha, es decir, todos los elementos por la izquierda y por la derecha de elementos de $\Sigma$ pertenecen a $\Sigma$. Claramente, $1\in\Sigma$ y $\Delta\in\Sigma$.

\begin{lema}
Sea $(M,\Delta)$ un monoide pre-Garside y sea $\Sigma$ el conjunto de divisores de $\Delta$.

\begin{enumerate}[label=(\roman*).]
\item Para todo $a,b,c\in\Sigma$, si $ac=bc$ o $ca=cb$, entonces $a=b$.
\item Existe una biyección $\delta:\Sigma\rightarrow \Sigma$ tal que $\Delta a=\delta(a)\Delta$ para todo $a\in\Sigma$.
\item Si $N$ es el orden de $\delta$ (es decir, el menor entero positivo tal que $\delta^{N}=id$), entonces $\Delta^N a=a\Delta^N$ para todo $a\in M$.
\item Para cualquier $a\in M$, existe un entero $r\geq 1$ tal que $a\preceq\Delta^r$ y $\Delta^r\succeq a$.
\end{enumerate}
\label{lema:pre-garside}
\end{lema}

\textit{Demostración.} (i) Ya que $c\in\Sigma$, existe un $d\in M$ tal que $cd=\Delta$. Entonces $ac=bc$ implica $a\Delta = acd=bcd$. Por tanto $a=b$ por la segunda condición de la Definición \ref{defi:pre-garside}. Para la implicación $ca=cb\Rightarrow a=b$ se procede de igual forma.
\newline
\newline
(ii) Ya que cualquier divisor por la izquierda de $\Delta$ es también un divisor por la derecha y vice versa, para cualquier $a\in\Sigma$, existe $a',\delta(a)\in\Sigma$ tal que $\Delta =a'a$ y $\Delta = \delta(a)a'$. Por la afirmación (i), a' y $\delta(a)$ están definidas únicamente. Tenemos que

\begin{equation}
\Delta a=\delta(a)a'a=\delta(a)\Delta
\label{eq:deltas}
\end{equation}

Ya que $\Sigma$ es finito, con el objetivo de probar que la función $\delta:\Sigma\rightarrow\Sigma$ es biyectiva, es suficiente probar que es inyectiva. La igualdad $\delta(a)=\delta(b)$ nos da que

$$\Delta a= \delta(a)\Delta = \delta(b)\Delta = \Delta b$$

Esto implica que $a=b$ por la segunda condición de la Definición \ref{defi:pre-garside}.
\newline
\newline
(iii) Por inducción sobre $n$ obtenemos de (\ref{eq:deltas}) que $\Delta^na=\delta^n(a)\Delta^n$ para todo $a\in\Sigma$. Ya que $\delta^N=id$, tenemos que $\Delta^N a=\delta^N(a)\Delta^n=a\Delta^n$ En otras palabras, $\Delta^N$ conmuta con todos los elementos del conjunto $\Sigma$ Ya que este conjunto genera el monoide $M$, podemos concluir que $\Delta^N$ conmuta con todos los elementos de $M$.
\newline
\newline
(iv) Escribimos $a$ como producto $a=a_1\cdots a_r$ de $r$ elementos de $\Sigma$. Para cada $a_i$ hay un $b_i\in\Sigma$ tal que $b_ia_i=\Delta$. Sea $b=\delta^{r-1}(b_r)\cdots\delta(b_2)b_1$. Afirmamos que $ba=\Delta^r$, lo cual prueba que $\Delta^r\succeq a$.

$$ba=\delta^{r-1}(b_r)\cdots\delta(b_2)b_1a_1\cdots a_r$$
$$=\delta^{r-1}(b_r)\cdots\delta(b_2)\Delta a_2\cdots a_r$$
$$=\delta^{r-1}(b_r)\cdots\Delta b_2a_2\cdots a_r$$
$$=\delta^{r-1}(b_r)\cdots\delta^2(b_3)\Delta^2 a_3\cdots a_r$$
$$=\delta^{r-1}(b_r)\cdots\Delta^2 b_3a_3\cdots a_r$$
$$=\cdots= \Delta^{r-1}b_ra_r=\Delta^r$$
\newline
De forma similar se prueba que si $a_ic_i=\Delta$ para $i=1,\ldots,r$ y

$$c=c_r\delta^{-1}(c_{r-1})\cdots\delta^{-(r-1)}(c_1)$$
\newline
entonces $ac=\Delta^r$ y por tanto $a\preceq\Delta^r$.

\subsection{Embebilidad de los monoides pre-Garside}

Sea $(M,\Delta)$ un monoide pre-Garside. Bajo la hipótesis de que $M$ es cancelativo por la izquierda, damos una construcción explicita del grupo de fracciones de $M$. La construcción implicará que $M$ es embebible.
\newline
\newline
Sea $N\geq 1$ el orden de $\delta:\Sigma\rightarrow\Sigma$. Por el Lema \ref{lema:pre-garside}, $\Delta^N$ es central en $M$. Consideramos el producto $H=M\times\mathbb{N}$ de los monoides $M$ y $\mathbb{N}$ con la correspondiente multiplicación

$$(a,p)(b,q)=ab,p+q$$
\newline
para todo $a,b\in M$ y $p,q\in\mathbb{N}$. El elemento neutro de $H$ es $(1,0)$.
\newline
\newline
Definimos la relación $\sim$ en $H$ por $(a,p)\sim(b,q)$ si $\Delta^{qN}a=\Delta^{pN}b$. Por ejemplo, $(\Delta^{qN}a,1)=(1,0)$. Vamos a demostrar que $\sim$ es una relación de equivalencia. La reflexividad y la simetría son obvias. Comprobamos la transitividad. Supongamos que $(a,p)\sim(b,q)\sim(c,r)$. Entonces $\Delta^{qN}a=\Delta^{pN}b$ y $\Delta^{rN}b=\Delta^{qN}c$. Por tanto

$$\Delta^{qN}\Delta^{rN}a=\Delta^{rN}\Delta^{rqN}a=\Delta^{rN}\Delta^{pN}b$$
$$=\Delta^{pN}\Delta^{rN}b=\Delta^{pN}\Delta^{qN}c=\Delta^{qN}\Delta^{pN}c$$
\newline
Ya que $M$ es cancelativo por la izquierda, podemos dividir en ambos lados por $\Delta^{qN}$ y obtenemos que $\Delta^{rN}a=\Delta^{pN}c$. Esto nos da $(a,p)\sim(c,r)$.
\newline
\newline
Sea $G=H/\sim$ el conjunto de clases de equivalencia y sea $\pi:H\rightarrow G$ la proyección. Ya que $\Delta^N$ es central en $M$, el conjunto $G$ tiene una única estructura de monoide tal que $\pi$ es un homomorfismo de monoide. Definimos un homomorfismo de monoide $i:M\rightarrow G$ por $i(a)=\pi(a,0)$ para $a\in M$.

\begin{teor}
Sea $(M,\Delta)$ un monoide pre-Garside tal que $M$ es cancelativo por la izquierda.
\begin{enumerate}[label=(\roman*).]
\item El monoide $G$ construido anteriormente es un grupo y el homomorfismo $i:M\rightarrow G$ es inyectivo.
\item Cualquier elemento de $G$ puede ser escrito de la forma $i(\Delta)^si(a)$, donde $s\in\mathbb{Z}, a\in M$.
\item El homomorfismo de monoide $i:M\rightarrow G$ es universal, asi que $G$ es el grupo de fracciones $G_M$ de $M$.
\end{enumerate}
\label{teor:pre-garside}
\end{teor}

\textit{Demostración.} (i) Si $i(a)=i(b)$ para $a,b\in M$, entonces $(a,0)=(b,0)$ en $H$. Esto implica que $a=\Delta^0a=\Delta^0b=b$ quedando demostrada la inyectividad de $i$.
\newline
\newline
Cualquier elemento $g\in G$ tiene la forma $\pi(a,p)$ para unos ciertos $a\in M$ y $p\in\mathbb{N}$. Vamos a comprobar que $g=\pi(a,p)$ es invertible. Por el Lema \ref{lema:pre-garside}(iv) existe un $b\in M$ y un entero $r\geq 1$ tal que $ab=\Delta^r$. Multiplicando $b$ en la derecha por una potencia de $\Delta$, podemos asumir que $r=qN$ para un entero $q\geq p$. Entonces


\begin{equation}
(a,p)(b,q-p)=(ab,q)
\label{eq:gr-frac}
\end{equation}
\newline
Ya que $\Delta^0ab=\Delta^r=\Delta^{qN}1$, tenemos que $(ab,q)\sim(1,0)$ y $\pi(ab,q)=\pi(1,0)=1$. Esto prueba que $g=\pi(a,p)$ tiene inverso por la derecha, que denotamos por $g'$. Aplicando el mismo razonamiento, $g'$ también tiene un inverso por la derecha  $g''$ y

$$g=g(g'g'')=(gg')g''=g''$$
\newline
En otras palabras, $g'$ es también el inverso de $g$ por la izquierda. Esto demuestra que G es un grupo.
(ii) Sea $\xi$ el elemento central $(1,+1)\in H=M\times\mathbb{N}$. Si establecemos $a=1,b=\Delta^N$ y $p=q=+1$ en (\ref{eq:gr-frac}), obtenemos $\pi(\xi)i(\Delta)^N=1$. Por tanto $\pi(\xi)=\i(\Delta)^{-N}$. Cualquier elemento de $H$ es de la forma $(a,p)=\xi^p(a,0)$ para algún $a\in M$ y $p\in\mathbb{N}$. Por tanto cualquier elemento de $G$ puede ser escrito de la forma $\pi(\xi)^pi(a)=i(\Delta)^{-pN}i(a)$ donde $a\in M$ y $p\in\mathbb{N}$.
\newline
\newline
(iii) Dado un homomorfismo de monoide $f$ de M a un grupo $G'$, consideramos la función $H=M\times \mathbb{N}\rightarrow G'$ que envia cualquier par $(a,p)\in M\times \mathbb{N}$ a $f(\Delta)^{-pN}f(a)$. Esta función es constante que las clases de equivalencia de $H$ por $\sim$ e induce un homomorfismo de grupo $H/\sim=G\rightarrow G'$. La composición de esta última función con $i:M\rightarrow G$ es igual a $f$. La unicidad del homomorfismo de grupo $G\rightarrow G'$ cuya composición con $i$ es igual a $f$ viene del hecho de que $i(M)$ genera $G$ como grupo.

\qed

\begin{colo}
Los monoides pre-Garside cancelativos por la izquierda son embebibles.
\label{colo:pre-garside-embe}
\end{colo}

Este colorario muestra en particular que para monoides pre-Garside, la cancelatividad por la izquierda implica la cancelatividad por la derecha.
\newline
\newline
A continuación identificaremos los elementos cancelativos por la izquierda de un monoide pre-Garside M con sus imagenes en $G_M$, de manera que $M$ se convierte en un subconjunto de $G_M$.

\subsection{El problema del conjugado en el grupo de fracciones}

Sea $(M,\Delta)$ un monoide pre-Garside canelativo por la izquierda. El problema del conjugado en su grupo de fracciones $G=G_M$ puede ser reducido al problema del conjugado de la siguiente manera. Como ya sabemos, para cualquier $\alpha,\beta\in G$, existen $a,b\in M\subset G$ y $s,t\in\mathbb{Z}$ tal que $\alpha=\Delta^sa$ y $\beta=\Delta^t b$. Cogemos un entero $u$ tal que $u\leq \min(s,t)$ y $u$ y $u$ es divisible por N (Lema \ref{lema:pre-garside}(iii)). Sea $a'=\Delta^{s-u}a\in M$ y $b'=\Delta^{t-u}b\in M$. Claramente, $\alpha=\Delta^ua'$ y $\beta=\Delta^ub'$. Afirmamos que $\alpha$ es conjugado de $\beta$ en $G$ si y solo si $a'$ es conjugado de $b'$ en M. Supongamos que $a'c=cb'$ para algún $c\in M$. Ya que $\Delta^u$ es una potencia de $\Delta^N$ y es por tanto central en $M$,

$$\alpha c=\Delta^u a'c=\Delta^u c b' = c\Delta^u b'=c\beta$$

En el otro sentido, si $\alpha\gamma=\gamma\beta$ con $\gamma\in G$, entonces $\gamma=\Delta^v c$ para algún $c\in M$ y algún entero $v$ divisible por $N$. Reemplazando $\alpha\beta\gamma$ en la fórmula $\alpha\gamma=\gamma\beta$ por sus expansiones con $a',b',c'$ y usando la centralidad de $\Delta^u,\Delta^v$, obtenemos

$$\Delta^{u+v}a'c=\Delta^{u+v}cb'$$
\newline
Dividimos entre $\Delta^{u+v}$ y concluimos que $a'c=cb'$.

\subsection{El caso de $M$ atómico}

Para $M$ atómico, la afirmación (ii) del Teorema \ref{teor:pre-garside} admite el siguiente refinamiento.

\begin{teor}
Sea $(M,\Delta)$ un monoide pre-Garside tal que $M$ es no trivial, cancelativo por la izquierda y atómico. Entonces cualquier elemento de $G=G_M\supset M$ puede ser escrito unicamente de la forma de la forma $\Delta^s b$, donde $s\in\mathbb{Z}$ y $b$ es un elemento de $M$ que no es múltiplo por la derecha de $\Delta$
\label{teor:refi}
\end{teor}

\textit{Demostración.} Observamos primero que $\norm{\Delta}>0$. En efecto, si $\norm{\Delta}= 0$, entonces $\Delta=1$. Ya que $M$ es atómico. Eso implica que $\Sigma_\Delta=\{1\}$. Ya que $\Sigma_\Delta$ genera $M$, tenemos que $M=\{1\}$. Esto contradice la no trivialidad de $M$.
\newline
\newline
Por el Teorema \ref{teor:pre-garside}, cualquier elemento de $G$ tiene la forma $\Delta^sa$ con $s\in\mathbb{Z}$ y $a\in M$. Sea $t$ el mayor entero no negativo tal que $\Delta^t\preceq a$ en $M$. Tal $t$ existe porque la relación $\Delta^t\preceq a$ implica que

$$t\norm{\Delta}\leq \norm{\Delta^t}\leq \norm{a}<\infty$$

Entonces $a=\Delta^t b$ para algún $b\in M$ tal que $\Delta\npreceq b$ y $\Delta^s a=\Delta^{s+t} b$. Esto prueba la existencia de la forma declarada.
\newline
\newline
Supongamos que $\Delta^s b=\Delta^{s'}b'$ para $s,s'\in\mathbb{Z}$ y $b,b'\in M$ tal que $\Delta\npreceq b$ y $\Delta\npreceq b'$. Podemos asumir que $s\geq s'$. Dividiendo por $\Delta^{s'}$, obtenemos que $\Delta^{s-s'}b=b'$. Ya que $b'$ no es múltiplo por la derecha de $\Delta$ en $M$, tenemos que $s-s'=0$. Por tanto, $s=s'$ y $b=b'$, lo que prueba la unicidad.

\section{Monoides de Garside}
\subsection{Definiciones y lemas}

Sea $(M,\Delta)$ un monoide pre-Garside y sea $\Sigma$ el conjunto de divisores por la izquierda (y por la derecha) de $\Delta$. Observamos que al generar $\Sigma$ a $M$, todos los átomos de $M$ pertenecen a $\Sigma$. En otras palabras, todos los átomos de $M$ son necesariamente divisores por la izquierda de $\Delta$.

\begin{defi}
El par $(M,\Delta)$ es un \textit{monoide de Garside} si $M$ es atómico y para cualesquiera dos átomos $s,t$ de $M$, el conjunto
$$\{a\in\Sigma\ |\ s\preceq a,\ t\preceq a \}$$
\newline
tiene un elemento minimal $\Delta_{s,t}$ (con respecto a $\preceq$).
\newline
\newline
Por el Lema \ref{lema:rel2}, el elemento minimal $\Delta_{s,t}$ es único. Se observa que $\Delta_{s,t}=\Delta_{t,s}\in\Sigma,\ s\preceq\Delta_{s,t},\ t\preceq\Delta_{s,t}$ y 

$$\{a\in\Sigma\ |\ s\preceq a,\ t\preceq a \}=\{a\in\Sigma\ |\ \Delta_{s,t}\preceq a\}$$

Cualquier átomo $s\in M$ es un elemento minimal del conjunto $\{a\in\Sigma\ |\ s\preceq a\}$, así que $\Delta_{s,s}=s$
\label{defi:garside}
\end{defi}

\begin{lema}
Si $(M,\Delta)$ es un monoide de Garside, entonces el conjunto $\Sigma$ satisface todas las condiciones del Teorema \ref{teor:monoi_deriv}
\label{lema:garside}
\end{lema}

Este lema es clave para permitirnos aplicar los resultados vistos en la sección de ``Formas Normales y problema del conjugado'' a los monoides de Garside. El resto de esta subsección irá enfocado a la prueba del Lema \ref{lema:garside}. Necesitamos verificar que $\Sigma$ satisface las condiciones (1.),(3.) del Teorema \ref{teor:monoi_deriv}. La condición (1.) la tenemos de forma directa por la definición de monoide pre-Garside. La condición (2.) fue verificada en el Lema \ref{lema:pre-garside}. La parte difícil es la verificación de (3.). Comenzamos con dos lemas. En ambos lemas, asumimos que $(M,\Delta)$ es un monoide de Garside, $\Sigma$ es el conjunto de divisores por la izquierda (y derecha) de $\Delta$, y $S\subset \Sigma$ es el conjunto de átomos de $M$.

\begin{lema}
Sea $E$ un subconjunto finito no vacío de $M$ satisfaciendo las siguientes dos condiciones:
\begin{enumerate}[label=(\roman*).]
\item Si $a\in M$ y $b\in E$ con $a\in E$ con $a\preceq b$, entonces $a\in E$.
\item Si $a\in E$, $s,t\in S$ son tales que $at\in E$, entonces $a\Delta_{s,t}\in E$.

Entonces $E$ tiene un elemento maximal (con respecto a $\preceq$).
\end{enumerate}
\label{lema:garside1}
\end{lema}

\textit{Demostración.} Sea $c$ un elemento de $E$ tal que $\norm{c}$ es maximal (decimos que $c$ es de altura maximal en $E$). Deseamos demostrar que $E=\{a\in M\ |\ c\}$. Por la condición (i), $\{a\in M\ |\ c\}\subset E$. Vamos a probar la inclusión contraria. Supongamos que no esta incluido. Entonces existe $b\in E$ tal que $b\npreceq c$. Expandimos $b$ como producto de atomos $b=s_1\cdots s_n$ para algún $n$ y $s_1,\ldots,s_n\in S$. Establecemos $a=s_1\cdots s_k$ donde $k < n$ es el entero maximal tal que $a\preceq c$ (posiblemente $k=0$, en cuyo caso $a=1$). Esta claro que $a\in E$ y que existe un átomo $s\in S$ (de hecho $s=s_{k+1}$) tal que $as\in E$ y $as\npreceq c$. Consideramos $a\in E$ de altura maximal. Ya que $c$ es de altura maximal en $E$, tenemos $\norm{a}<\norm{as}\leq \norm{c}$. Esto y la relacion $a\preceq c$ implica que existe $t\in S$ tal que $at\preceq c$. Entonces, necesariamente, $t\neq s$. Ahora tenemos  $a,as, at\in E$. Por la condición (ii) $a\Delta_{s,t}\in E$. La relación $as\preceq a\Delta_{s,t}$ y $as\npreceq c$ implica que $a\Delta_{s,t}\npreceq c$. Podemos expandir

$$\Delta_{s,t}=ts_1s_2\cdots s_m$$
\newline
donde $s_1,\ldots,s_m\in S$. Existe $i=1,\ldots,m$ tal que $ats_1s_2\cdots s_{i-1}\preceq c$ y $ats_1s_2\cdots s_{i}\npreceq c$. Sea $a'=ats_1s_2\cdots s_{i-1}$. La inclusión $a\Delta_{s,t}\in E$ implica que $a',a's_i\in E$. Por la elección de $i$ tenemos que $a's_i\npreceq c$. Por lo tanto, $a'$ satisface las mismas condiciones de $a$, pero $\norm{a'}\geq \norm{at}> \norm{a}$. Tenemos una contradicción con la elección de $a$.

\qed

\begin{lema}
Para cualquier $a,b\in\Sigma$, el conjunto

$$E=\{x\in M\ |\ x\preceq a,\ x\preceq b\}\subset \Sigma$$

tiene un elemento maximal (con respecto a $\preceq$).
\label{lema:garside2}
\end{lema}

\textit{Demostración.} Ya que $\Sigma$ es finito, también lo es $E$. Claramente, $1\in E$. El conjunto $E$ es no vacío ya que $1\in E$, y obviamente satisface la condición $(i)$ del Lema \ref{lema:garside1}. Vamos a comprobar la condición (ii). Tenemos que probar que si $xs$ y $xt$ son divisores por la izquierda de $a$ y $b$ para algún $s,t\in S$, entonces $x\in\Delta_{s,t}$. Sea $y\in\Sigma$ tal que $xy=a$. Por hipótesis, $xs\preceq a = xy$ y $xt\preceq a = xy$. Por el Lema \ref{lema:pre-garside} (i), esto implica que $s\preceq y$ y $t\preceq y$ . Por la Definición \ref{defi:garside}, $\Delta_{s,t}\preceq y$, y por tanto $x\Delta{s,t}\preceq xy=a$. De igual manera $x\Delta_{s,t} b$. Ahora el Lema \ref{lema:garside1} implica que $E$ tiene elemento maximal.

\qed

Ahora estamos en condiciones de verificar la condición (3.) del Teorema \ref{teor:monoi_deriv}. Tomamos cualesquiera $a,b\in\Sigma$. Ya que $a\preceq\Delta$, tenemos que $\Delta=aa'$ para algún $a'\in\Sigma$. Por el Lema \ref{lema:garside2}, el conjunto

$$\{x\in M\ |\ x\preceq a',\ x\preceq b\}\subset\Sigma$$ tiene un elemento maximal con respecto a $\preceq$. Afirmamos que $c$ es maximal en 

$$\{x\in\Sigma\ |\ x\preceq b,\ ax\in\Sigma\}$$

En efecto, por definición, $c\preceq a'$, por lo cual $ac\preceq aa'=\Delta$ y $ac\in\Sigma$. Sea $d\in\Sigma$ tal que $d\preceq b$ y $ad\in\Sigma$. Entonces $ad\preceq\Delta=aa'$ y en consecuencia, por el Lema \ref{lema:pre-garside} (i) (cancelación por la izquierda en $\Sigma$) implica que $d\preceq a'$. Por lo tanto, $d\preceq c$.

\qed

\subsection{Monoides de Garside exhaustivos}

Un monoide de Garside $(M,\Delta)$ es \textit{exhaustivo} si el conjunto $\Sigma\subset M$ de divisores de $\Delta$ es exhaustivo en el sentido en el que fue definido anteriormente. Los resultados previos nos dan como consecuencia las siguientes propiedades que cumple un monoide de Garside exhaustivo $(M,\Delta)$.

\begin{enumerate}[label=(\arabic*)]
\item Tenemos que $M\cong M_\Sigma$ (Lema \ref{lema:iso_mono}). En otras palabras, $M$ tiene una presentación con generadores $[a]$, donde $a$ se mueve en $\Sigma$, y relaciones $[1]=1$ y $[a][b]=[ab]$, donde $a,b\in\Sigma$ satisface $ab\in\Sigma$.
\item Para cualquier $a\in M$, existe un único divisor por la izquierda $\alpha(a)\in\Sigma$ de $a$ que es maximal entre todos los divisores por la izquierda de $a$ pertenecientes a $\Sigma$ (Teorema \ref{teor:monoi_deriv}).
\item Cualquier $a\in M$ se expande de forma única como un producto $a=a_1a_2\cdots a_r$ de ciertos $a_1,a_2,\ldots,a_r\in\Sigma - \{1\}$ con $r\geq 0$ tal que $a_i=\alpha(a_ia_{i+1}\cdots a_r)$ para todo $i=1,\ldots,r$ (Sección Forma normal de $M_\Sigma$).
\item El homomorfismo de monoide natural de $M$ en su grupo de fracciones $G_M$ es inyectivo (Lema \ref{lema:cancel} y Colorario \ref{colo:pre-garside-embe}). En particular, $M$ es cancelativo por la izquierda y por la derecha.
\item Si $M\neq \{1\}$, entonces cualquier elemento de $G_M\supset M$ puede ser escrito de la forma $\Delta^s b$ con unicidad, donde $s\in\mathbb{Z}$ y $b\in M$ no es múltiplo por la derecha de $\Delta$ (Teorema \ref{teor:refi}).
\item El problema del conjugado $G_M$ es equivalente al problema del conjugado en $M$ (Sección el problema del cojugado en el grupo de fracciones). Este último es soluble si $M$ admite una presentación ponderada (Sección el problema del conjugado en $M_\Sigma$).
\end{enumerate}

\subsection{Divisores y múltiplos comunes en monoides de Garside}

Dado $k\geq 2$ elementos $a_1,\ldots,a_k$ de un monoide $M$, decimos que $d\in M$ es un \textit{máximo común divisor por la izquierda} (mcd) de $a_1,\ldots,a_k$ si $d\preceq a_i$ para todo $i=1,\ldots,k$, y $d'\preceq d$ para cualquier $d'\in M$ tal que $d'\preceq a_i$ ara todo $i=1,\ldots,k$. Reemplazando $\preceq$ por $\succeq$, obtenemos análogamente la noción de mcd por la derecha.

Decimos que $m\in M$ es un \textit{mínimo común múltiplo} (mcm) de $a_1,\ldots,a_k$ si $a_i\preceq m$ para todo $i=1,\ldots,k$, y $m\preceq m'$ para cualquier $m'\in M$ tal que $a_i\preceq m'$ ara todo $i=1,\ldots,k$. Existe la noción análoga de mcm por la izquierda. Si $M$ es atómico, entonces el mcd y el mcm son únicos siempre que existan. La propiedad (2) de la sección anterior puede ser reformulada diciendo que $\Delta$ y cualquier $a\in M$ tienen mcd por la izquierda. Esas propiedades de los monoides de Garside pueden ser generalizadas de la siguiente manera.

\begin{teor}
Sea $(M,\Delta)$ un monoide de Garside exhaustivo. Entonces cualquier familia finita de elementos de $M$ tienen un único mcd por la izquierda y un único mcm por la derecha.
\end{teor}

\textit{Demostración.} Sean $b,c\in M$. Consideramos el conjunto

$$E=\{a\in M\ |\ a\preceq b,\ a\preceq c\}$$
\newline
Con el objetivo de probar que $b$ y $c$ tienen un mcd por la izquierda en $M$, es suficiente con comprobar que $E$ satisface las condiciones del Lema \ref{lema:garside1}. El conjunto $E$ claramente satisface la condición (i). El conjunto $E$ es finito porque $\norm{a}<\norm{b}$ para cualquier $a\in E$, así que $a$ es el producto de como mucho $\norm{b}$ átomos de $M$, y el conjunto de átomos de $M$, siendo un subconjunto de $\Sigma$, es finito.

Vamos a comprobar la condición $(ii)$. Supongamos que tenemos $a\in E$ y los átomos $s,t\in M$ tal que $as,at\in E$. Escribimos $b=ab_1$ con $b_1\in M$. Ya que $M$ es cancelativo por la izquierda, $as\preceq b =ab_1$ implica $s\preceq b_1$ y $at\preceq b = ab_1$ implica $t\preceq b_1$. Consideramos el divisor por la izquierda maximal $\alpha(b_1)$ de $b_1$ en $\Sigma$. Tenemos que $s\preceq\alpha(b_1)$ y $t\preceq\alpha(b_1)$. Por tanto $\alpha_{s,t}\preceq \alpha(b_1)\preceq b_1$. Por eso $\Delta_{s,t}\preceq b_1$ y $a\Delta_{s,t}\preceq ab_1= b$. De igual forma $a\Delta_{s,t}\preceq c$. Esto prueba que $a\Delta_{s,t}\in E$.
\newline
\newline
Que cualquier familia finita de elementos de $M$ tiene un mcm por la izquierda se sigue facilmente por inducción sobre la cardinalidad de la familia.
\newline
\newline
Vamos a probar la existencia de mcm por la derecha. Sea $a_1,\ldots,a_k\in M$. En vista al Lema \ref{lema:pre-garside} (iv), existe $r\geq 1$ tal que $a_i\preceq\Delta^r$ para todo $i=1,\ldots,k$. Consideramos el conjunto

$$X=\{x\in M\ |\ a_i\preceq c\preceq\Delta^r\ \ \forall i\in\{1,\ldots,k\}\}$$

Ya que el conjunto de átomos de $M$ es finito y todos los divisores por la izquierda de $\Delta^r$ se expanden como producto de a lo máximo $r\norm{\Delta}$ átomos, el conjunto de divisores por la izquierda de $\Delta^r$ es finito. Dado que contiene a $X$, este es finito también. Sea $m$ el máximo común divisor por la izquierda de los elementos de $X$. Afirmamos que $m$ es mínimo común múltiplo por la derecha de $a_1,\ldots,a_k$. En efecto, $a_1,\ldots,a_k$ son divisores por la izquierda de todos los elementos de $X$. Por lo tanto, son divisores por la izquierda de $m$. Esto demuestra que $m$ es múltiplo común por la derecha de $a_1,\ldots,a_k$.
\newline
\newline
Sea $m'$ otro común múltiplo por la derecha de $a_1,\ldots,a_k$. Denotamos por $m''$ un máximo común divisor por la izquierda de $m'$ y $\Delta^r$. Comprobamos que $m''\in X$. Primero, $m''\preceq\Delta^r$. Ya que $a_i$ es un divisor por la izquierda de $m'$ y de $\Delta^r$, es un divisor por la izquierda de $m''$. Esto prueba que $m''\in X$. Por definición de $m$, tenemos que $m\preceq m''$. Dado que $m''\preceq m'$, obtenemos $m\preceq m'$. Esto prueba nuestra afirmación.

\section{El monoide de trenza}

\subsection{Una presentación por generadores y relaciones}

Para cualquier $n\geq 1$, denotamos por $B_n^+$ el monoide generado por $n-1$ generadores $\sigma_1,\sigma_2,\ldots,\sigma_{n-1}$ y las relaciones

$$\sigma_i\sigma_j=\sigma_j\sigma_i\ \ \ si\ |i-j|\geq 2$$
$$\sigma_i\sigma_j\sigma_i=\sigma_j\sigma_i\sigma_i\ \ \ si\ |i-j|= 1$$

donde $i,j=1,2,\ldots,n-1$. El monoide $B_n^+$ se llama \textit{monoide de trenza} de $n$ hebras. A los elementos de $B_n^+$ se les llama \textit{trenzas positivas} de $n$ hebras. Por definición, $B_1^+$ es el monoide trivial. El monoide $B_2^+$ esta generado por un único generador y un conjunto vacío de relaciones. Es isomorfo al monoide $\mathbb{N}$ de enteros no negativos.
\newline
\newline
La presentación de $B_n^+$ dada previamente es finita y equilibrada en longitud en el sentido ya visto, lo que nos provee de una solución para el problema de palabra para $B_n^+$. Además, el Lema \ref{lema:presen_mono} implica que el monoide $B_n^+$ es atómico cuyos átomos son $\sigma_1,\sigma_2,\ldots,\sigma_{n-1}$ y $\norm{a}=\ell(a)$ para todo $a\in B_n^+$, donde $\ell : B_n^+\rightarrow \mathbb{N}$ es el homomorfismo de monoide definido por $\ell(\sigma_i)=1$ para $i=1,\ldots,n-1$.
\newline
\newline
Establecemos

$$\Delta_n = (\sigma_1\cdots\sigma_{n-2}\sigma_{n-1})(\sigma_1\cdots\sigma_{n-2})\cdots(\sigma_1\sigma_2)\sigma_1\in B_n^+$$

\subsection{Trenzas reducidas}

Consideramos el grupo simétrico $S_n$ que esta formado por todas las permutaciones del conjunto $\{1,\ldots,n\}$. Definimos la función teórica $\rho:S_n\rightarrow B_n^+$ como sigue. Consideramos las transposiciones simples $s_1,\ldots,s_{n-1}\in S_n$, donde $s_i$ permuta $i$ y $i+1$ y deja el resto de elementos fijos. Las transposiciones simples generan $S_n$, así que cada elemento $\omega\in S_n$ puede ser expresado como una palabra $\omega = s_{i_1}s_{i_2}\cdots s_{i_r}$ con $i_1,i_2,\ldots,i_r\in\{1,2,\ldots,n-1\}$. Si $r$ es minimal, entonces esta es una expresión reducida y establecemos que $\rho(\omega)=s_{i_1}s_{i_2}\cdots s_{i_r}$. Por el Teorema \ref{}, $\rho(\omega)$ es un elemento bien definido de $B_n^+$. Sea

$$\pi:B_n^+\rightarrow S_n$$

el homomorfismo de monoide definido por $\pi(\sigma)=s_i$ para todo $i=1,\ldots,n-1$. Esta claro que $\pi\circ\rho = id$, lo que implica que $\rho$ es inyectiva.
\newline
\newline
Establecemos $B_n^{red}=\rho(S_n)\subset B_n^+$. Este es un conjunto finito de cardinalidad $n!$ y el homomorfismo $\pi:B_n^+\rightarrow S_n$ es una biyección cuando se restringe a $B_n^{red}$. Decimos que un elemento de $B_n^+$ es reducido si se encuentra en $B_n^{red}$. Los átomos $\sigma_1,\ldots,\sigma_{n-1}$ de $B_n^+$ son reducidos, ya que $\sigma_i=\rho(s_i)$ para $i=1,\ldots,n-1$. Denotamos por $\lambda(\omega)$ para $\omega\in S_n$ como la longitud $r$ de cualquier expresión reducida $s_{i_1}s_{i_2}\cdots s_{i_r}$ para $\omega$. A partir de esta definición esta claro que 

$$\lambda(\pi(a))=\ell(a)$$
\newline
para todo $a\in B_n^+$. El siguiente lema es una útil caracterización algebraica de $B_n^{red}$.

\begin{lema}
Un elemento de $B_n^+$ es reducido si y solo si $\lambda(\pi(a))=\ell(a)$
\label{lema:reduced1}
\end{lema}

\textit{Demostración.} Si $a=\rho(\omega)$ para algún $\omega\in S_n$, entonces $\ell(a)=\lambda(\omega)=\lambda(\pi(a))$. Por el contrario, sea $a=s_{i_1}s_{i_2}\cdots s_{i_r}\in B_n^+$ con $r=\ell(a)=\lambda(\pi(a))$. Entonces $\pi(a)=s_{i_1}s_{i_2}\cdots s_{i_r}$ es una expresión reducida de $S_n$ y $a=\rho(\pi(a))\in B_n^{red}$.

\qed

\begin{lema}
Un divisor por la izquierda o por la derecha de un elemento reducido de $B_n^+$ es reducido.
\label{lema:reduced2}
\end{lema}

\textit{Demostración.} Si $a,b\in B_n$ y $ab\in B_n^{red}$, entonces

$$\ell(a) + \ell(b)= \ell(ab)=\lambda(\pi(ab))=\lambda(\pi(a)\pi(b))\leq \lambda(\pi(a))+\lambda(\pi(a))$$

Ya que $\ell(a)\geq \lambda(\pi(a))$ y $\ell(b)\geq \lambda(\pi(b))$, estas desigualdades son realmente igualdades. Por el Lema \ref{lema:reduced1}, se sigue que $a,b\in B_n^{red}$.

\qed

\begin{lema}
Para $u,v\in S_n$, tenemos que $\rho(u)\rho(v)=\rho(uv)$ si y solo si $\lambda(u)+\lambda(v)=\lambda(uv)$.
\label{lema:longi}
\end{lema}

\textit{Demostración.} Sea $a=(\rho(u)\rho(v)\in B_n^+)$. Tenemos que $\pi(a)= uv$ y 

$$\lambda(uv)=\lambda(\pi(a))\leq\ell(a)=\ell(\rho(u))+\ell(\rho(v))=\lambda(u)+\lambda(v)$$

Por tanto $a\in B_n^{red}$ si y solo si $\lambda(uv)=\lambda(u)+\lambda(v)$. Por otra parte, $a\in B_n^{red}$ si y solo si $a=\rho(\pi(a))=\rho(uv)$.

\qed

La permutación $\omega_0=(n,n-1,\ldots,2,1)$ es el único elemento de $\omega_0\in S_n$ de longitud máxima. Es facil comprobar que

$$\omega_0=(s_1\cdots s_{n-2}s_{n-1})s_1\cdots s_{n-2})\cdots(s_1s_2)s_1$$

Ya que la palabra en la parte derecha tiene longitud $\lambda(\omega_0)=n(n-1)/2$, es reducido. Por lo tanto

$$\rho(\omega_0)(\sigma_1\cdots \sigma_{n-2}\sigma_{n-1})\sigma_1\cdots \sigma_{n-2})\cdots(\sigma_1\sigma_2)\sigma_1=\Delta_n$$

Esto demuestra que $\Delta_n$ es reducido.

\begin{lema}
Un elemento de $B_n^+$ es reducido si y solo si es un divisor por la izquierda o por la derecha de $\Delta_n$
\label{lema:reduced3}
\end{lema}

\textit{Demostración.} Ya que $\Delta_n$ es reducido, todos sus divisores por la izquierda y por la derecha son reducidos por el Lema \ref{lema:reduced2}.
\newline
\newline
Por el contrario, sea $a=\rho(\pi(a))\in B_n^{red}$. Establecemos $b=\rho(\pi(a)^{-1}\omega_0)\in B_n^{red},\ u=\pi(a)$ y $v=\pi(b)=\pi(a)^{-1}\omega_0$. Tenemos $uv=\omega_0$. Por tanto, por el Lema \ref{}

$$\lambda(u)\lambda(v)=\lambda(\omega_0)$$

Esta igualdad por el Lema \ref{lema:longi} implica que $ab=\Delta_n$. Por tanto, $a$ es un divisor de $\Delta_n$. Un argumento simiar prueba que $a$ es un divisor por la derecha de $\Delta_n$.

\begin{teor}
Para todo $n\geq 1$, el par $B_n^+,\Delta_n$ es un monoide de Garside exhaustivo.
\label{teor:trenzas-garside}
\end{teor}

\textit{Demostración.} Ya observamos que $B_n^+$ es atómico con átomos $\sigma_1,\ldots,\sigma_{n-1}$. Vamos a probar que $(B_n^+,\Delta_n)$ es un monoide pre-Garside comprobando las condiciones (a), (b) de la Definición \ref{defi:pre-garside}.
\newline
\newline
Por el Lema \ref{lema:reduced3}, el conjunto de divisores por la izquierda de $\Delta_n$ coincide con el conjunto de divisores por la derecha de $\Delta_n$ y coincide con el conjunto $B_n^{red}$. Este último es finito y coincide con los generadores $\sigma_1,\ldots,\sigma_{n-1}$ de $B_n^+$. Esto verifica la condición (a).

Condición (b): vamos a probar que $\Delta_a=\Delta_b\Rightarrow a=b$ para $a,b\in B_n^{red}.$ Aplicando el homomorfismo de monoide $\pi: B_n^+\rightarrow S_n$, obtenemos

$$\pi(\Delta_n)\pi(a)=\pi(\Delta_n a)=\pi(\Delta_n b)=\pi(\Delta_n)\pi(b)\in S_n$$

Ya que $S_n$ es un grupo, $\pi(a)=\pi(b)$. Esto implica que

$$a=\rho(\pi(a))=\rho(\pi(b))=b$$

La implicación $a\Delta_n=b\Delta_n\Rightarrow a=b$ se prueba de igual forma.
\newline
\newline
Para cualesquiera $i,j\in\{1,\ldots,n-1\}$, establecemos

$$\sigma_{i,j}= \left\{ \begin{array}{lcc}
             \sigma_i &   si  & i=j \\
             \\ \sigma_i\sigma_j\sigma_i=\sigma_i\sigma_j\sigma_i &  si & |i-j|=1 \\
             \\ \sigma_i\sigma_j=\sigma_j\sigma_i &  si  & |i-j|\geq 2
             \end{array}
   \right.$$
   
Establecemos $s_{i,j}=\pi(\sigma_{i,j})\in S_n$. Es facil comprobar que $s_{i,j}=s_is_j$ es una expresión reducida cuando $|i-j|\geq 2$, y $s_{i,j}=s_is_js_i\in S_n$ es una expresión reducida cuando $|i-j|=1$. Entonces $\sigma_{i,j}=\rho(s_{i,j})\in B_n^{red}$ para todo $i,j$. Por lo tanto el conjunto $B_n^{red}$ es exhaustivo.
\newline
\newline
Para completar la prueba, hay que comprobar la condición de la Definición \ref{defi:garside}
. Observamos que $\sigma_i\preceq \sigma_{i,j}$ y $\sigma_j\preceq\sigma_{i,j}$ para todo $i,j$. Afirmamos que $\sigma_{i,j}$ es el elemento minimal del conjunto

$$\{a\in B_n^{red}\ |\ \sigma_i\preceq a,\ \sigma_j\preceq a\}$$
\newline
Debemos demostrar que para cualquier $a\in B_n^{red}$, tal que $\sigma_i\preceq a$ y $\sigma_j\preceq a$, se da que $\sigma_{i,j}\preceq a$. El caso $i=j$ es trivial, por lo que consideraremos el caso $i\neq j$. Ya que los elementos de $B_n^{red}$ están en biyección con los elementos de $S_n$ a través de la función $\pi: B_n^+\rightarrow S_n$, es suficiente establecer que si

$$w=\pi(a)=s_iu=s_jv$$

para algún $u,v\in S_n$ con $\lambda(u)=\lambda(v)=\lambda(w)-1$, entonces existe $w'\in S_n$ tal que $w=s_{i,j}w'$ y $\lambda(w')=\lambda(w)-\lambda(s_{i,j})$.
\newline
\newline
Demostramos la última afirmación. Primero observamos que $u\neq v$, ya que $s_i\neq s_j$. Sea $s_{i_1}s_{i_2}\cdots s_{i_r}$ una expresión reducida para $v$, donde $r=\lambda(w)-1$. Tenemos

$$u=s_iw=s_is_jv=s_is_js_{i_1}s_{i_2}\cdots s_{i_r}$$

Ya que $\lambda(u)<\lambda(w)$, $u$ se obtiene de $s_js_{i_1}s_{i_2}\cdots s_{i_r}$ por eliminación de uno de los generadores. Si eliminamos el generador más a la izquierda $s_j$, entonces $u=s_{i_1}s_{i_2}\cdots s_{i_r}=v$, lo que es imposible. Por tanto, $u=s_jw'$ con

$$w'=s_{i_1}\cdots\widehat{s_{i_p}}\cdots s_{i_r}$$
\newline
donde algún $s_{i_p}$ es eliminado. Por lo tanto, $\lambda(w')\leq r-1=\lambda(w)-2$. Ya que

$$w=s_iu=s_is_jw'$$

debemos tener $\lambda(w')=\lambda(w)-2$. Esto prueba la afirmación cuando $|i-j|\geq 2$, es decir, cuando $s_{i,j}=s_is_j$.
\newline
\newline
Consideramos el caso $|i-j|=1$. Por el calculo previo

$$v=s_jw=s_js_iu=s_js_is_jw'=s_js_is_js_{i_1}\cdots\widehat{s_{i_p}}\cdots s_{i_r}$$

Ya que $\lambda(v)<\lambda(w)=r+1$, $u$ se obtiene de $s_is_js_{i_1}s_{i_2}\cdots s_{i_r}$ por eliminación de uno de los generadores. Si eliminamos el generador más a la izquierda $s_i$, entonces

$$v=s_js_{i_1}s_{i_2}\cdots s_{i_r}=s_jw'=u$$

lo que es imposible. Si el generador eliminado es $s_j$ en la segunda posición, entonces

$$v=s_is_{i_1}s_{i_2}\cdots s_{i_r}=s_jw'$$

Obtenemos $s_is_jw'=w=s_jv=s_js_iw'$, lo que implica $s_is_j=s_js_i$. Esto es imposible ya que $|i-j|=1$. Por tanto $v=s_is_jw''$, donde $w''$ se obtiene por borrar un generador de $w'=s_{i_1}s_{i_2}\cdots s_{i_r}$. En consecuencia $\lambda(w'')\leq r-2=\lambda(w)-3$ y

$$w=s_jv=s_js_is_jw''=s_{i,j}w''$$

Entonces $\lambda(w'')=\lambda(w)-3$.

\qed

Por el Teorema \ref{teor:trenzas-garside}, el par $(B_n^+,\Delta_n)$, comparte todas las propiedades de los monoides de Garside exhaustivos. Hacemos un resumen de esas propiedades.

\begin{enumerate}[label=(\arabic*)]
\item El monoide $B_n^+$ tiene una presentación con generadores $[a]$, donde $a$ se encuentra en $B_n^{red}$, y relaciones $[1]=1$ y $[a][b]=[ab]$ siempre que $a,b\in B_n^{red}$ cumplan $ab\in B_n^{red}$. Usando la biyección $\rho: S_n\rightarrow B_n^{red}$ y el Lema \ref{lema:longi}, concluimos que $B_n^+$ tiene una presentación con generadores $[u]$, donde $u$ se encuentra en $S_n$, y relaciones $[1]=1$ y $[u][v]=[uv]$ siempre que $u,v\in S_n$ cumplan $\lambda(u)+\lambda(v)=\lambda(uv)$.
\item Cualquier familia finita de elementos de $B_n^+$ tiene un único mcd por la izquierda y un único mcm por la derecha.
\item Cualquier $a\in B_n^+$ tiene una \textit{forma normal} $(a_1,a_2,\ldots, a_r)$ con $r\geq 0$, donde $a_1,a_2,\ldots, a_r$ son elementos únicos de $B_n^{red}-\{1\}$ tal que $a=a_1a_2\cdots a_r$ y $a_i$ es el mcd por la izquierda de $a_ia_{i+1}\cdots a_r$ y $\Delta_n$ para todo $i=1,2,\ldots,r$.
\item El monoide $B_n^+$ se embebe en el grupo de fracciones. Por definición el grupo de fracciones de $B_n^+$ tiene la misma presentación que $B_n^+$ y no es más que el grupo de trenzas $B_n$. Esto hace que el homomorfismo de monoide $B_n^+\rightarrow B_n$ que envía $\sigma_i\in B_n^+$ a $\sigma_i\in B_n$ para $i=1,\ldots, n-1$ es inyectivo. En la práctica identificaremos el monoide $B_n^+$ con su imagen en $B_n$.
\item Para $n\geq 2$, cualquier $\beta\in B_n$ puede ser escrito únicamente en la forma $\beta=\Delta_n^sb$, donde $s\in\mathbb{Z}$ y $b\in B_n^+\subset B_n$ no es un múltiplo por la derecha de $\Delta_n$
\item El problema del conjugado en $B_n$ es equivalente al problema del conjugado en $B_n^+$ y puede ser resuelto como ya se ha visto.
\end{enumerate}

Completamos la lista con el siguiente teorema.

\begin{teor}
Cualquier familia finita de elementos de $B_n^+$ tiene un único mcd por la derecha y un único mcm por la izquierda.
\end{teor}
\textit{Demostración.} Consideramos la función $rev: B_n^+\rightarrow B_n^+$ obtenida al leer las palabras de generadores $\sigma_1,\ldots, \sigma_{n-1}$ de derecha a izquierda:

$$rev(s_{i_1}s_{i_2}\cdots s_{i_{r-1}}s_{i_r})=s_{i_r}s_{i_{r-1}}\cdots s_{i_{2}}s_{i_1}$$

Esta función esta bien definica, ya que las relaciones de la definición de $B_n^+$, siendo leidas de derecha a izquierda, dan las mismas relaciones. La función $rev$ es un antiautomorfismo involutivo de $B_n^+$ en el sentido en que $rev^2=id$, $rev(1)=1$ y $rev(ab)=rev(a)rev(b)$ para todo $a,b\in B_n^+$. Esta claro que $a\preceq b$ si y solo si $rev(a)\succeq rev(b)$ para $a,b\in B_n^+$. Usando estos hechos, es fácil deducir la existencia de mcd por la derecha y mcm por la izquierda a partir de la existencia de mcd por la izquierda y mcm por la derecha. La unicidad se obtiene del Lema \ref{lema:rel2}.

\qed

\subsection{Cálculos}

La expansión $\beta=\Delta^sb$ de una trenza $\beta\in B_n$ que nos da la propiedad (5) de la sección previa puede ser explicitamente calculada. Representar $\beta$ por una palabra de generadores $\sigma_1,\ldots,\sigma_{n-1}$ y sus inversos. Definimos $\nu_i\in B_n^+$ por $\nu_i\sigma_i=\Delta_n$. Entonces $\sigma_i^{-1}=\Delta_n^{-1}\nu_i$. En la palabra representando $\beta$ reemplazamos todas las ocurrencias de $\sigma_i^{-1}$ por $\Delta_n^{-1}\nu_i$ y expandimos todo $\nu_i$ en términos de $\sigma_1,\ldots,\sigma_{n-1}$. En la palabra resultante tenemos solo los generadores $\sigma_i$ (no sus inversos) y potencias negativas de $\Delta_n$. Usando la identidad

\begin{equation}
\sigma_i\Delta_n=\Delta_n\sigma_{n-i}
\end{equation}
\newline
donde $i=1,\ldots,n-1$, podemos mover todas las potencias de $\Delta_n$ a la izquierda. De esta forma obtenemos una expansión $\beta=\Delta_n^sb$ con $s\in\mathbb{Z}$ y $b\in B_n^+$. Si $b$ no es un múltiplo por la derecha de $Delta_n$, entonces tenemos la deseada expansión de $\beta$. Si $\Delta_n\preceq b$, entonces $b=\Delta_n b'$ con $b'\in B_n^+$ y $\beta=\Delta_n^{s+1}b'$. Observar que comprobar si $\Delta_n\preceq b$, es suficiente calcular $\alpha(b)\in B_n^{red}$ y ver si $\alpha(b)=\Delta_n$. Después comprobamos si $b'$ es múltiplo por la derecha de $\Delta_n$ y así sucesivamente. El proceso se para antes de $2\ell(b)/(n(n-1))$ pasos.
\newline
\newline
Damos un ejemplo, aplicamos este procedimiento a

$$\beta=\sigma_1^{-1}\sigma_2\sigma_1\sigma_2^{-2}\in B_4$$
\newline
Denotamos por $W(a)$ al conjunto de palabras de $\sigma_1,\ldots,\sigma_{n-1}$ representado a un elemento $a\in B_n^+$. De

$$\Delta_4=\sigma_1\sigma_2\sigma_3\sigma_1\sigma_2\sigma_1=\sigma_1\sigma_2\sigma_3\sigma_2\sigma_1\sigma_2$$
\newline
derivamos que $\sigma_1^{-1}=\Delta_4^{-1}\sigma_1\sigma_2\sigma_3\sigma_1\sigma_2$ y $\sigma_2^{-1}=\Delta_4^{-1}\sigma_1\sigma_2\sigma_3\sigma_2\sigma_1$. En consecuencia
\newline

$$\beta=(\Delta_4^{-1}\sigma_1\sigma_2\sigma_3\sigma_1\sigma_2)(\sigma_2\sigma_1)(\Delta_4^{-1}\sigma_1\sigma_2\sigma_3\sigma_2\sigma_1)(\Delta_4^{-1}\sigma_1\sigma_2\sigma_3\sigma_2\sigma_1)$$

$$=(\Delta_4^{-1}\sigma_1\sigma_2\sigma_3\sigma_1\sigma_2)(\sigma_2\sigma_1)(\Delta_4^{-1}\sigma_3\sigma_2\sigma_1\sigma_2\sigma_3)(\sigma_1\sigma_2\sigma_3\sigma_2\sigma_1)$$

$$=\Delta_4^{-3}abc^2$$

donde

$$a=\sigma_1\sigma_2\sigma_3\sigma_1\sigma_2\ \ \ b=\sigma_2\sigma_1\ \ \ c=\sigma_3\sigma_2\sigma_1\sigma_2\sigma_3=\sigma_1\sigma_2\sigma_3\sigma_2\sigma_1$$

Vamos a calcular $\alpha(abc^2)$ con el objetivo de ver si $abc^2$ es un múltiplo por la derecha de $\Delta_4$. Observamos que $a,b$ y $c$ son trenzas reducidas. Ya que $c\alpha_2=\Delta_4$, tenemos que $\alpha(c^2)=\alpha_2(c,c)=cc'$, donde $c'$ es el mcd por la izquierda de $\sigma_2$ y $c$. Ahora $W(c)$ consiste de seis palabras

$$\sigma_3\sigma_2\sigma_1\sigma_2\sigma_3\ \ \sigma_1\sigma_2\sigma_3\sigma_2\sigma_1\ \ \sigma_1\sigma_3\sigma_2\sigma_3\sigma_1$$
$$\sigma_1\sigma_3\sigma_2\sigma_1\sigma_3\ \ \sigma_3\sigma_1\sigma_2\sigma_3\sigma_1\ \ \sigma_3\sigma_1\sigma_2\sigma_1\sigma_3$$

Por lo tanto, $c'=1$ y $\alpha(c^2)=c$. De $b(\sigma_2\sigma_3\sigma_2\sigma_1)=\Delta^4$, obtenemos

$$\alpha(bc^2)=\alpha_2(b,\alpha(c^2))=\alpha_2(b,c)=bb'$$

donde $b'$ es el mcd por la izquierda de $\sigma_2\sigma_3\sigma_2\sigma_1$ y c. Ahora

$$W(\sigma_2\sigma_3\sigma_2\sigma_1)=\{\sigma_2\sigma_3\sigma_2\sigma_1,\sigma_3\sigma_2\sigma_3\sigma_1,\sigma_3\sigma_2\sigma_1\sigma_3\}$$
\newline
Comparando con $W(c)$, obtenemos $b'=\sigma_3\sigma_2\sigma_1$. Por tanto, $\alpha(bc^2)=d$, donde $d=\sigma_2\sigma_1\sigma_3\sigma_2\sigma_1$. Finalmente, $a\sigma_1=\Delta_4$, implica

$$\alpha(abc^2)=\alpha_2(a,\alpha(bc^2))=\alpha_2(a,d)=aa'$$

donde $a'$ es el mcd por la izquierda de $\sigma_1$ y $d$. La lista

$$W(d)=\{\sigma_2\sigma_1\sigma_3\sigma_2\sigma_1,\sigma_2\sigma_3\sigma_1\sigma_2\sigma_1,
\sigma_2\sigma_3\sigma_2\sigma_1\sigma_2,\sigma_3\sigma_2\sigma_3\sigma_1\sigma_2,
\sigma_3\sigma_2\sigma_1\sigma_3\sigma_2\}$$

demuestra que $a'=1$. Por tanto, $\alpha(abc^2)=a\neq\Delta_4$. Por lo tanto, $abc^2$ no es múltiplo por la derecha de $\Delta_4$ y 

$$\beta=\Delta_4^{-3}abc^2$$

es la expansión requerida de $\beta$. La forma normal de $abc^2$ es $(a,d,e,b)$ donde $e=\sigma_1\sigma_2\sigma_1\sigma_3\sigma_2$.



































\section{Introducción a la criptografía}

La \textit{criptografía} es la ciencia de guardar los secretos a salvo. Se asume que un emisor, al que nos referiremos aquí como \textit{Alice}, quiere enviar un mensaje $m$ a un receptor, al que llamaremos \textit{Bob}. Ella usa un canal de comunicación inseguro, como puede ser una red de ordenadores o una linea de teléfono. El problema esta cuando la información que se transmite es confidencial. El mensaje puede ser interceptado y leido o incluso modificado por un agente externo al que nos referiremos como \textit{Eve}. El objetivo de la criptografía es proveer de métodos para evitar este tipo de ataques.

\subsection{Cifrado}

La tarea clásica y fundamental de la criptografía es la de proveer de \textit{confidencialidad} a través de los métodos de cifrado. El mensaje a transmitir se le llama \textit{texto plano}. Alice \textit{cifra} el texto plano $m$ y obtiene un \textit{texto cifrado} $c$. El texto cifrado $c$ es transmitido a Bob. Bob \textit{descifrando} obtiene el texto plano a partir del texto crifrado. Para \textit{descifrar}, Bob necesita una información secreta, la llave de descifrado. La adversaria Eve todavía podría interceptar el mensaje cifrado. Sin embargo, el cifrado del texto plano debería garantizar la confidencialidad y prevenir que pueda extraer alguna información del texto plano a partir del texto cifrado.
\newline
\newline
El cifrado es muy antiguo. Por ejemplo, el \textit{cifrado César} fue introducido hace más de $2000$ años. Cada método de cifrado provee un \textit{algoritmo de cifrado} $E$ y un \textit{algoritmo de descifrado} $D$. En los esquemas de cifrado clásicos, ambos algoritmos dependen de la misma llave secreta $k$. Esta llave $k$ se usa para cifrar y descifrar. A estos métodos de cifrado se les llama \textit{simétricos}.

$$D(k,E(k,m))=m$$

En $1976$, Diffie and Hellman introdujeron el revolucionario concepto de \textit{criptografía de llave pública}. Proporcionaron una solución al problema del intercambio de claves y señalaron el camino a las firmas digitales. A los métodos de \textit{cifrado de llave pública} se les llama \textit{asimétricos}. Cada destinatario de mensajes tiene una llave personal $k = (pk,sk)$ que se compone de dos partes: $pk$ es la lave de cifrado y esta se hace pública, y $sk$ es la llave de descifrado y se mantiene en secreto. Si Alice quiere enviar un mensaje $M$ a Bob, ella cifra $m$ usando la llave de cifrado de Bob $pk$, la cual es pública. Bob descifra el texto cifrado usando su llave de descifrado $sk$ que solo conoce él.

$$D(sk,E(pk,m))=m$$

Cualquiera puede cifrar fácilmente el texto plano usando la llave pública $pk$, pero la otra dirección es complicada. Es practicamente imposible deducir el texto plano a partir del texto cifrado sin saber la llave secreta $sk$.
\newline
\newline
Los métodos de cifrado de llave pública requieren cálculos más complejos y son menos eficientes que los métodos de clásicos de cifrado simétrico. Por eso los métodos simétricos son usados para el cifrado de grandes cantidades de datos. Antes de aplicar el cifrado simétrico, el emisor y el receptor acuerdan una llave. Para mantener la llave en secreto necesitan un canal de comunicación seguro. Lo habitual es utilizar el cifrado de llave pública para este proposito.

\subsection{Objetivos de la criptografía}

Proveer de \textbf{confidencialidad} no es el único objetivo de la criptografía. A su vez esta intenta dar solución a otros problemas. Estos son:

\begin{itemize}
\item \textbf{Integridad de los datos:} El receptor de los datos deberia ser capaz de comprobar si el mensaje ha sido modificado durante la transmisión, ya sea accidentalmente o deliberadamente. Nadie debería ser capaz de alterar total o parcialmente el mensaje original.

\item \textbf{Autenticación:} El receptor del mensaje debería ser capaz de verificar su origen. Nadie debería ser capaz de enviar un mensaje a Bob haciendose pasar por Alice (\textit{autenticación del origen de los datos}). Cuando se inicia la comunicación, Alice y Bob debería ser capaz de identificar el uno al otro (\textit{autenticación de identidad}).

\item \textbf{No repudiación:} El emisor debería no ser capaz negar que envió el mensaje.
\end{itemize}

Hay tanto métodos simétricos como de llave pública para asegurar la integridad de los mensajes. Los métodos simétricos clásicos requieren una llave secreta $k$ que es compartida por el emisor y el receptor. El mensaje $m$ se aumenta con el \textit{código de autenticación de mensaje} (MAC acrónimo en inglés). El código es generado por un algoritmo y depende de una llave secreta. el mensaje aumentado $(m,MAC(k,m))$ está protegido contra modificaciónes. El receptor del mensaje puede comprobar la integridad del mensaje $(m,\overline{m})$ comprobando que

$$MAC(k,m)=\overline{m}$$

Los códigos de autenticación de mensaje se implementan mediante funciones hash con llave.
\newline
\newline
Las \textit{firmas digitales} requieren métodos de llave pública. Como las clásicas firmas a mano, tienen la intención de proveer de autenticación y no repudiación. Las llaves digirales dependen de la clave secreta del firmante (solo pueden ser generadas por él). Por otra parte cualquier persona puede comprobar la validez de la firma utilizando un algoritmo de verificación público \textit{Verify} el cual depende de la llave pública del firmante. Si Alice quiere firmar un mensaje $m$, ella utiliza el algoritmo \textit{Sign} con su llave secreta $sk$ y consigue su firma $Sign(sk,m)$. Bob recibe una firma $s$ para el mensaje $m$ y puede comprobar la firma viendo si

$$Verify(pk,s,m)=ok$$
\ 
con la llave pública de Alice $pk$.
\newline
No es común firmar el mensaje en si mismo, sino usar primero una \textit{función hash criptográfica} y despues firmar el valor hash. Las firmas digitales dependen del mensaje. Mensajes distintos producen firmas distintas. Así que, como los codigos de autenticación de mensaje, las firmas digitales pueden ser utilizadas para garantizar la integridad de los datos.


\subsection{Protocolos criptográficos}

Los algoritmos de cifrado y descifrado, funciones hash criptográficas y los generadores peusoaleatorios son básicamente los bloques de construcción (también llamados primitivas criptográficas) utilizados para resolver problemas que involucran confidencialidad, autenticación o integridad de los datos.
\newline
\newline
En muchos casos un único bloque de construcción no puede resolver un problema, sino que se necesita combinar varias primitivas. Una serie de pasos deben ser ejecutados para completar la tarea. A la sucesión de pasos bien definidos se le denomina \textit{protocolo criptográfico}. Es habitual añadir una condición a esta definición y es la de dos o más partes esten involucradas. Solo usaremos el término ``protocolo'' si se requiere al menos dos personas para completar la tarea.
\newline
\newline
Como contraejemplo echamos un vistazo al esquema de firma digital. Un esquema típico para generar una firma digital es primero aplicar una función hash criptográfica $h$ al mensaje $m$ y después, en un segundo paso, calcular la firma utilizando el algoritmo de descifrado de llave pública sobre el valor hash $h(m)$. Ambos pasos estan hechos por una única persona, por lo que no se considera un protocolo.

\subsubsection{Intercambio de llaves}
Los criptosistemas de llave pública y secreta asumen que los participantes tienen acesso a las llaves. En la práctica, uno puede utilizar estos sistemas si el problema de la distribución de llaves esta resuelto.

El concepto de seguridad para llaves tiene dos niveles. El primer nivel emplea llaves secretas de larga duración, denominadas \textit{llaves maestras}. Las llaves del segundo nivel estan asociadas con la sesión, por lo que son llamadas \textit{llaves de sesión}. Una llave de sesión es solo válida durante el breve tiempo de duración de una sesión. Las llaves maestras son normalmente las llaves empleadas en un criptosistema de llave pública.
\newline
\newline
Hay dos razones principales para el concepto a dos niveles. La primera es que el cifrado por llave simétrica es más eficiente que el cifrado de llave pública. por tanto, las llaves de sesión suelen ser llaves de criptosistemas simétricos, y esas deben ser intercambiadas de manera segura, usando otras llaves. La segunda razón y probablemente más importante es que el concepto a dos niveles provee de más seguridad. Si la seguridad de una sesión se ve comprometida, solo afecta a esa sesión. Dada una llave de sesión, el número de textos cifrados disponibles para el criptoanalisis es limitado. Las llaves de sesión son generadas cuando se necesitan utilizar y se desechan después de ser usadas.
\newline
\newline
La llave maestra se utiliza para generar las llaves de sesión. Por tanto es especialmente importante prevenir los ataques sobre la llave maestra. Por eso el acceso a la llave maestra esta estrictamente limitado.





















\section{Plataformas criptograficas y grupos de plataforma}

Si un protocolo criptográfico esta basado en un objeto algebraico como puede ser un grupo, un anillo u otros, entonces es llamado \textit{plataforma criptográfica} o \textit{plataforma}. En criptografía basada en un grupo a este se le llama \textit{grupo de plataforma} para el protocolo criptográfico. La seguridad de un protocolo criptográfico depende entonces de la dificultad, computacional o teórica, de resolver un problema de teoría de grupos en el grupo de plataforma.
\newline
\newline
Para que un grupo de plataforma $G$ sea adecuado para un protocolo criptográfico basado en grupos, $G$ debe poseer ciertas propiedades que hagan el protocolo tanto eficiente de implementar como seguro. Se asume que el grupo posee una representación finita

$$G = \langle X;R\rangle=\langle x_1,...,x_n: R_1=\cdot\cdot\cdot=R_m=1\rangle$$

y que el protocolo de seguridad esta basado en un problema de teoría de grupos que denotamos por $\mathcal{P}$. La primera necesidad es que haya una forma de representar unicamente y multiplicar los elementos de $G$. En la mayoría de casos esto requiere una \textit{forma normal} para los elementos $g\in G$ en término de unos generadores $\{x_1,...,x_n\}$. Una forma normal es, para cada $g\in G$, una única representación en término de los generadores. Las formas normales proveen de un método efectivo para distinguir los elementos del grupo. La existencia de una forma normal en un grupo implica que el problema de palabra tiene solución para este, lo que es esencial para estos protocolos. Para $g\in G$ denotaremos su forma normal, en términos del conjunto de generadores $X$, por $NF_X(g)$. Para que sea útil en criptografía, dado $g\in G$ expresado como una palabra en $x_1,...,x_n$, el proceso de pasar de la palabra a la forma normal única debe ser computacionalmente eficiente.
\newline
\newline
Además de que el grupo de plataforma tenga forma normal, idealmente debería presentar un crecimiento exponencial. Es decir, que la función crecimiento para $G$,

$$\gamma:\mathbb{N}\rightarrow\mathbb{R}$$
$$\gamma(n)=\#\{w\in G:l(w)\leq n\}$$

tiene un ratio de crecimiento exponencial. En la definición $l(w)$ se entiende como el número de letras mínimo necesitado para expresar $w$ como una palabra en $x_1,...,x_n$. El crecimiento exponencial es necesario, ya que esto asegura tener un gran espacio de llaves, haciendo que una búsqueda de fuerza bruta para la llave secreta sea un algoritmo no factible.
\newline
\newline
A parte la forma normal debe presentar buena difusión al determinar las formas normales de los productos. Esto quiere decir que al encontrar la forma normal de un producto es difícil computacionalmente descubrir los factores. Esto es formalmente que si nosotros conocemos $NF_X(g_1g_2)$ es difícil computacionalmente encontrar $g_1,g_2$ o $NF_X(g_1)$,$NF_X(g_2)$
\newline
\newline
Otras necesidades para el grupo plataforma dependen del protocolo en particular. Si la seguridad esta basada en el problema de grupo $\mathcal{P}$, tales como el problema de palabra o el problema del conjugado, se tiene que asumir que en $G$, la solución a $\mathcal{P}$ es computacionalmente compleja (NP-Complejo) o irresoluble. Sin embargo, lo que realmente queremos es que sea \textit{generalmente complejo}, es decir, complejo para la mayoría de entradas. La solución de $\mathcal{P}$ podría ser irresoluble pero tener una complejidad en el caso promedio polinomial. En este caso, si no tenemos cuidado al elegir las entradas, la solución de $\mathcal{P}$ es fácil y el protocolo criptográfico esta roto. Esto no elimina a $G$ como un posible grupo de plataforma pero indica que hay que tener cuidado al escoger las entradas.

Entre los primeros intentos de usar grupos no abelianos como plataformas para criptosistemas de llave pública estuvieron los esquemas de Anshel-Anshel-Goldfeld y Ko, Lee et al. 





\section{Esquemas criptográficos basados en trenzas}

En esta parte vamos a ver diferentes algoritmos que llevan a cabo varios esquemas criptográficos utilizando los grupos de trenzas, pero solo veremos en profundidad el intercambio de llaves que es el que se utiliza en la práctica. Estos algoritmos se pueden ver en \cite{Deh}.

\subsection{Intercambio de llaves}
Alice y Bob desean compartir una llave secreta, de tal manera que un intruso que esté observando la comunicación no pueda deducir ninguna información útil sobre un secreto en común.

\subsubsection{Esquema Anshel-Anshel-Goldfeld}
Propuesto por Anshel \& al. este esquema es una plataforma criptográfica en el que se puede utilizar cualquier grupo de plataforma en el que el Problema de Búsqueda del Conjugado sea lo suficientemente complicado.
\newline
\newline
La llave pública consiste en dos conjuntos de trenzas $\{p_1,...,p_l\},\{q_1,...,q_m\}\subset B_n$. La llave secreta de Alice es una palabra $u$ formada por $l$ letras y sus inversas y la llave secreta de Bob es una palabra $u$ formada por $m$ letras y sus inversas. El intercambio de llave esta esta compuesto de los siguientes pasos:

\begin{enumerate}
\item Alice calcula la trenza $s = u(p_1,...,p_l)$ y lo usa para calcular los conjugados $q_1'=sq_1s^{-1},...,q_m'=sq_ms^{-1}$. Ella envía $q_1',...,q_m'.$
\item Bob calcula la trenza $r = v(q_1,...,q_m)$ y lo usa para calcular los conjugados $p_1'=sp_1s^{-1},...,p_l'=sp_ls^{-1}$. Ella envía $p_1',...,p_l'.$
\item Alice calcula $t_A = su(p_1',...,p_l')^{-1}$
\item Bob calcula $t_B = v(q_1',...,q_m')r^{-1}$
\end{enumerate}

La llave compartida es $t_A = t_B$. Sabiendo que 
$$u(p_1',...,p_l')=r\ u(p_1,...,p_l)r^{-1}$$
$$v(q_1',...,q_m')=s\ v(q_1,...,q_m)s^{-1}$$
Es fácil ver que

$$t_A = s\ u(p_1',...,p_l')^{-1} = s\ r\ u(p_1,...,p_l)^{-1}r^{-1}=$$
$$=s\ r\ s^{-1}r^{-1}= s\ v(q_1,...,q_m)\ s^{-1}r^{-1}=v(q_1',...,q_m')r^{-1} = t_B$$

La seguridad esta basada en la dificultad de resolver una variante del Problema de Búsqueda del Conjugado en $B_n$, que es llamado el Problema de Búsqueda del conjugado Múltiple, en el cual se intenta encontrar una trenza conjugadora no de un único par de trenzas conjugadas $(p,p')$ sino de una familia finita de pares de trenzas $(p_1,p_1'),...,(p_l,p_l')$. Nótese que el Problema de Búsqueda del Conjugado Múltiple es más facil que el Problema de Búsqueda del Conjugado, puesto que se tiene más información de los conjugadores. Sin embargo, es lo suficientemente complejo como para que el intruso sea incapaz de encontrar la llave secreta $r$ conociendo los pares $(p_1,p_1'),...,(p_l,p_l')$. De igual manera, no será capaz de encontrar la llave secreta $s$ conociendo los pares $(q_1,q_1'),...,(q_m,q_m')$.

\begin{ejem}
Vamos a realizar un ejemplo de intercambio de llaves utilizando el esquema Anshel-Anshel-Goldfeld. Para ello escogeremos como grupo de trabajo el grupo de trenza $B_6$. Tomaremos como llaves públicas de Alice y Bob las trenzas $p_1 = \sigma_1, p_2 = \sigma_3, p_3 =\sigma_5^{-1}$ y $q_1 = \sigma_4, q_2 = \sigma_2^{-1}, q_3 = \sigma_3^{-1}, q_4 = \sigma_1$ respectivamente. Obtenemos las llaves privadas utilizando

$$u(p_1,p_2,p_3)= p_3p_1p_2p_1p_2$$
$$v(q_1,q_2,q_3,q_4)= q_4q_1q_3q_2$$
\ 
\newline
de manera que la llave privada de Alice es $s=\sigma_5^{-1}\sigma_1\sigma_3\sigma_1\sigma_3$ y la llave privada de Bob es $r = \sigma_1\sigma_4\sigma_3^{-1}\sigma_2^{-1}$. Calculamos los conjugados a partir de las llaves públicas y privadas.
$$q_1' = \sigma_5^{-1}\sigma_1\sigma_3\sigma_1\sigma_3 \sigma_4 \sigma_3^{-1}\sigma_1^{-1}\sigma_3^{-1}\sigma_1^{-1}\sigma_5$$
$$q_2' = \sigma_5^{-1}\sigma_1\sigma_3\sigma_1\sigma_3 \sigma_2^{-1} \sigma_3^{-1}\sigma_1^{-1}\sigma_3^{-1}\sigma_1^{-1}\sigma_5$$
$$q_3' = \sigma_5^{-1}\sigma_1\sigma_3\sigma_1\sigma_3 \sigma_3^{-1} \sigma_3^{-1}\sigma_1^{-1}\sigma_3^{-1}\sigma_1^{-1}\sigma_5$$
$$q_4' = \sigma_5^{-1}\sigma_1\sigma_3\sigma_1\sigma_3 \sigma_1 \sigma_3^{-1}\sigma_1^{-1}\sigma_3^{-1}\sigma_1^{-1}\sigma_5$$
\ 
\newline
$$p_1' = \sigma_1\sigma_4\sigma_3^{-1}\sigma_2^{-1} \sigma_1 \sigma_2\sigma_3\sigma_4^{-1}\sigma_1^{-1}$$
$$p_2' = \sigma_1\sigma_4\sigma_3^{-1}\sigma_2^{-1} \sigma_3 \sigma_2\sigma_3\sigma_4^{-1}\sigma_1^{-1}$$
$$p_3' = \sigma_1\sigma_4\sigma_3^{-1}\sigma_2^{-1} \sigma_5^{-1} \sigma_2\sigma_3\sigma_4^{-1}\sigma_1^{-1}$$
\ 
\newline
A la hora de enviar los conjugados es obvio que estos se tienen que normalizar antes, ya que si no se hace esto es facilmente visible la llave secreta. Nosotros no lo haremos en este caso para facilitar los calculos. Comprobamos que la llave común calculada por ambas partes coincide:

$$t_A = s\ u(p_1',...,p_l')^{-1} = \sigma_5^{-1}\sigma_1\sigma_3\sigma_1\sigma_3\cdot\sigma_1\sigma_4\sigma_3^{-1}\sigma_2^{-1} \sigma_3^{-1} \sigma_1^{-1}\sigma_3^{-1} \sigma_1^{-1}\sigma_5 \sigma_2\sigma_3\sigma_4^{-1}\sigma_1^{-1}=$$

$$=\sigma_5^{-1}\sigma_1\sigma_3\sigma_1\sigma_3\sigma_1\sigma_4\sigma_3^{-1}\sigma_2^{-1} \sigma_3^{-1} \sigma_1^{-1}\sigma_3^{-1} \sigma_1^{-1}\sigma_5 \cdot\sigma_2\sigma_3\sigma_4^{-1}\sigma_1^{-1}=v(q_1',...,q_m')r^{-1} = t_B$$

\end{ejem}

Aquí pueden observar la implementación del algoritmo realizada en Sage.
\newline
\newline
\begin{figure}
\includegraphics[scale=0.5]{imgs/Anshel.png}
\caption{Implementación de Anshel-Anshel-Goldfeld}
\end{figure}



\subsubsection{Esquema Diffie-Hellman} Aunque los grupos de trenzas no son conmutativos, estos contienen grandes subgrupos donde para cada elemento de un primer subgrupo conmutan con cada elemento de un segundo subgrupo. De hecho, las trenzas que involucran conjuntos distintos de hebras conmutan. Si denotamos por $LB_n$ (respectivamente $UB_n$) al subgrupo de $B_n$ generado por $\sigma_1,...,\sigma_{m-1}$ (respectivamente $\sigma_{m+1},...,\sigma_{n-1}$) con $m=[n/2]$, cada trenza en $LB_n$ conmuta con cada trenza en $UB_n$.
\newline
\newline
Esta observación es utilizada por el esquema de intercambio de llave Diffie-Hellman propuesto por Ko \& al. En este, la llave pública consiste en una trenza $p$ en $B_n$. La llave secreta de Alice es una trenza $s$ en $LB_n$. La llave secreta de Bob es una trenza $r$ en $UB_n$. El intercambio esta formado por los siguientes pasos:

\begin{enumerate}
\item Alice calcula el conjugado $p'=sps^{-1}$, y se lo envia a Bob.
\item Bob calcula el conjugado $p''=rpr^{-1}$, y se lo envia a Alice.
\item Alice calcula $t_A = sp''s^{-1}$.
\item Bob calcula $t_B = rp'r^{-1}$. 
\end{enumerate}

La llave compartida es $t_A = t_B$. Esto es debido a que $s$ y $r$ conmutan:

$$t_A=s\ p''s^{-1}=s\ r\ p\ r^{-1}s^{-1} = r\ s\ p\ s^{-1}r^{-1} = r\ p'r^{-1}=t_B$$

Aquí la seguridad también esta basada en la dificultad de resolver una variante del Problema de Búsqueda del Conjugado donde dada una trenza $p$ de $B_n$ y las trenzas $p'=sps^{-1}$ y $p''=rpr^{-1}$, con $s$ y $r$ pertenecientes a $LB_n$ y $UB_n$ respectivamente, hay que encontrar la trenza $rp'r^{-1}$ o lo que es igual $sp''s^{-1}$. El problema es lo bastante complejo como para no poder encontrar $rp'r^{-1}=sp''s^{-1}$ conociendo los pares $(p,p')$ y $(p,p'')$.

\begin{ejem}
Procedemos a realizar un intercambio de llave utilizando el esquema Diffie-Hellman. Para ello utilizaremos el grupo de trenza $B_{10}$. De esta manera Alice utilizará el subgrupo $LB_{10}$ generado por $\sigma_1,\sigma_2,\sigma_3,\sigma_4$ y Bob el subgrupo $RB_{10}$ generado por $\sigma_6,\sigma_7,\sigma_8,\sigma_8$ para obtener la llave privada. Establecemos como llave pública $p=\sigma_7^{-1}\sigma_5\sigma_1^{-1}\sigma_9\sigma_4$ y como llaves privadas de Alice y Bob $s = \sigma_3^{-1}\sigma_1^{-1}\sigma_4\sigma_3\sigma_2$ y $r = \sigma_7\sigma_8\sigma_7\sigma_6^{-1}\sigma_9^{-1}\sigma_8$ respectivamente. Cada uno de ellos calcula el conjugado con su llave privada y pública:

$$p' = sps^{-1}=\sigma_3^{-1}\sigma_1^{-1}\sigma_4\sigma_3\sigma_2 \sigma_7^{-1}\sigma_5\sigma_1^{-1}\sigma_9\sigma_4 \sigma_2^{-1}\sigma_3^{-1}\sigma_4^{-1}\sigma_1\sigma_3$$

$$p'' = rpr^{-1} = \sigma_7\sigma_8\sigma_7\sigma_6^{-1}\sigma_9^{-1}\sigma_8 \sigma_7^{-1}\sigma_5\sigma_1^{-1}\sigma_9\sigma_4 \sigma_8^{-1}\sigma_9\sigma_6\sigma_7^{-1}\sigma_8^{-1}\sigma_7^{-1}$$

\ 
\newline
Observamos que debido a la conmutatividad ambos pueden calcular la llave común de forma que coincide:

$$t_A = s\ p''s^{-1} =$$$$= \sigma_3^{-1}\sigma_1^{-1}\sigma_4\sigma_3\sigma_2\cdot \sigma_7\sigma_8\sigma_7\sigma_6^{-1}\sigma_9^{-1}\sigma_8 \sigma_7^{-1}\sigma_5\sigma_1^{-1}\sigma_9\sigma_4 \sigma_8^{-1}\sigma_9\sigma_6\sigma_7^{-1}\sigma_8^{-1}\sigma_7^{-1}\cdot\sigma_2^{-1}\sigma_3^{-1}\sigma_4^{-1}\sigma_1\sigma_3=$$
$$=\sigma_7\sigma_8\sigma_7\sigma_6^{-1}\sigma_9^{-1}\sigma_8\cdot \sigma_3^{-1}\sigma_1^{-1}\sigma_4\sigma_3\sigma_2 \sigma_7^{-1}\sigma_5\sigma_1^{-1}\sigma_9\sigma_4 \sigma_2^{-1}\sigma_3^{-1}\sigma_4^{-1}\sigma_1\sigma_3\cdot
\sigma_8^{-1}\sigma_9\sigma_6\sigma_7^{-1}\sigma_8^{-1}\sigma_7^{-1} =$$
$$= rp'r^{-1} = t_B$$
\qed
\end{ejem}

Aquí pueden observar la implementación del algoritmo realizada en Sage.
\newline
\newline
\begin{figure}
\includegraphics[scale=0.5]{imgs/KoLee.png}
\caption{Implementación del Esquema Diffie-Hellman}
\end{figure}

\subsection{Cifrado}
Aquí el problema es que Bob desea enviar un mensaje $m$ a Alice, y el puede usar la llave pública de Alice para cifrar su mensaje. Alice debe ser capaz de recuperar el mensaje original de Bob usando su llave privada, de manera que un intruso que observe la comunicación no pueda.

\subsubsection{Esquema Ko \& al.}
La notación será la empleada en el esquema de intercambio de llaves previo. Además, asumimos que $h$ es una \textit{función hash unidireccional libre de colisión} de $B_n$ a $\{0,1\}^N$, es decir, una función calculable tal que la probabilidad de que $h(b_1)=h(b_2)$ para $b_1\neq b_2$ es despreciable (libre de colisión) y recuperar $b$ a partir de $h(b)$ es inviable.
\newline
\newline
Comenzamos con $p\in B_n$ y $s\in LB_n$. La llave pública de Alice es el par $(p,p')$, con $p'=sps^{-1}$. La llave privada de Alice es $s$. Con el fin de enviar el mensaje $m_B$, el cual asumimos que se encuentra en $\{0,1\}^N$, usando $\oplus$ para la operación Booleana ``or-exclusivo"(es decir, la suma en $\mathbb{Z}/2\mathbb{Z}$):

\begin{enumerate}
\item Bob elige una trenza aleatoria $r$ en $UB_n$ y envia el texto cifrado $m''=m_B\oplus h(rp'r^{-1})$ junto con el dato auxiliar $p''=rpr^{-1}$.
\item Alice calcula $m_A = m_B$. 

\end{enumerate}

Entonces tenemos que $m_A = m_B$ es decir, Alice recupera el mensaje original de Bob. Esto se debe a que las trenzas $r$ y $s$ conmutan

$$sp''s^{-1}=s\ r\ p\ r^{-1}s^{-1}=r\ s\ p\ s^{-1}r^{-1}$$

y entonces tenemos que 

$$m_A = m_B\oplus h(rp'r^{-1})\oplus h(sp''s^{-1})=m_B$$

Aquí la seguridad esta basada en la dificultad del Problema del Conjugado inspirado en Diffie-Hellman para $B_n$. Bajo las hipótesis sobre $h$, ser capaz de romper el sistema implica tener que recuperar los valores comunes $rp'r^{-1}$ y $sp''s^{-1}$ a partir de los pares $(p,p')$ y $(p,p'')$.

\subsection{Autenticación de identidad}
Ahora el problema es que Alice desea probar su identidad a Bob, es decir, ella desea probar que conoce la llave privada sin permitir que un intruso que observe la comunicación deduzca nada sobre su llave privada.

\subsubsection{Esquema inspirado en Diffie-Hellman}. El siguiente esquema desafío-respuesta esta ínspirado en el esquema previo de Ko \& al. La llave pública es un par de trenzas conjugadas $(p,p')$ en $B_n$ con $p'=sps^{-1}$, mientras que la llave privada de Alice es la trenza $s$ utilizada para conjugar $p$ y $p'$. Asumimos que $s\in LB_n$. También usaremos $h$ como función hash unidireccional libre de colisión en $B_n$. Entonces para realizar la autenticación se hace el siguiente intercambio:

\begin{enumerate}
\item Bob elige una trenza aleatoria $r\in UB_n$, y le envía el desafío $p''=rpr^{-1}$ a Alice.
\item Alice le envía la respuesta $y = h(sp''s^{-1})$.
\item Bob comprueba que $y=h(rp'r^{-1})$
\end{enumerate}

Una respuesta correcta por parte de Alice implica la aceptación por parte de Bob, debido a que las trenzas $r$ y $s$ conmutan, y por tanto, tenemos que $rp'r^{-1}=sp''s^{-1}$. Por otra parte, la aceptación ocurre solo si la respuesta de $y$ de $A$ satisface $y=h(rp'r^{-1})$, por tanto, bajo las hipotesis de $h$, solo si Alice ha sido capaz de resolver el Problema del Conjugado inspirado en Diffie-Helman para $B_n$. Una vez más, la seguridad recae en la dificultad de resolver este problema.


\subsubsection{Esquema inspirado en Fiat-Shamir} Este esquema de autenticación es propuesto por Sibert \& al. Este esquema hereda del esquema Fiat-Shamir lo que implica repetir varias el desafío-respuesta en tres pasos. Como antes, las llaves públicas son un par de trenzas conjugadas $(p,p')$ con $p'=sps^{-1}$, mientras $s$, la trenza conjugadora, es la llave privada de Alice. En contraste al esquema previo $p,s\in B_n$, es decir, no asumimos que pertenezcan a un subgrupo particulas como $LB_n$ o $UB_n$. Asumimos que $h$ es una función hash unidireccional libre de colisiones en $B_n$. El procedimiento de autenticación consiste en repetir $k$ veces los siguientes tres pasos:

\begin{enumerate}
\item Alicia elige una trenza aleatoria $r\in B_n$ el \textit{compromiso} $x=h(rp'r^{-1})$.
\item Bob elige un bit aleatorio $c$ y se lo envia a Alice.
\item Si $c=0$, Alice envía $y=r$, y Bob comprueba que $x=h(yp'y^{-1})$.
\item Si $c=1$, Alice envía $y=rs$, y Bob comprueba que $x=h(yp'y^{-1})$.
\end{enumerate}

Si Alice conoce $s$ y responde correctamente, ella es aceptada por Bob. Para $c=0$, tenemos directamente $x=h(yp'y^{-1})$, mientras que para $c=1$, tenemos $ypy^{-1}=(rs)p(rs)^{-1}=rp'r^{-1}$, por tanto $x=h(ypy^{-1})$. Por otra parte, si Alice es deshonesta, ella puede hacer trampas y enviar la respuesta correcta en ambos casos. En el caso $c=0$, basta con que Alice mantenga un registro de $r$ y enviar respuestas coherentes. En el caso $c=1$ es suficiente con que el compromiso $x$ se elige para anticipar la igualdad $x=h(ypy^{-1})$ que también es fácil. Pero un tramposo no puede elegir su compromiso de tal manera que acierte correctamente ambos casos. Si anticipa $c=0$, la probabilidad de responder correctamente para $c=1$ es despreciable y viceversa. Un tramposo nunca tendra más de $0.5$ de probabilidad de acertar. Así que si repetimos el intercambio $k$ veces, la probabilidad del tramposo de acertar sera de $1/2^k$.
\newline
\newline
La seguridad de este esquema radica en la dificultad del Problema de Búsqueda del Conjugado original en $B_n$. Tener más de un 0.5 de probabilidad de ser aceptado significa ser capaz de responder para $c=0$ y $c=1$, es decir, conocer $y,y'$ que cumplan $x=h(ypy^{-1})$ y $x=h(y'p'y'^{-1})$. Como se supone que $h$ es libre de colisión, es decir, es virtualmente inyectiva, se tendría que $ypy^{-1}=y'p'y'^{-1}$, que es equivalente a $(y'^{-1}y)p(y'^{-1}y)^{-1}=p'$. Esto implicaría que para que suceda esto se debe solucionar el Problema de Búsqueda del Conjugado para $(p,p')$

\subsection{Firma}
El problema consiste en que Alice quiere enviar a Bob un mensaje (texto plano o cifrado) junto con una firma que pruebe el origen del mensaje. Observar que con la firma se puede implementar la autenticación. Esto se haría enviando Bob a Alice un mensaje y que esta se lo devolviera firmado.
\newline
\newline
Vamos a ver dos esquemas de firma basados en trenzas propuestos por Ko \& al. El primer esquema es más simple y legible mietras que el segundo es el esquema recomendado. Estos esquemas usan la supuesta diferencia de complejidad entre el Problema del Conjugado y el Problema de Búsqueda del Conjugado. Para valores medios de $n$ (típicamente $n=20$), al usar una representación lineal de las trenzas hace posible decidir si dos trenzas de $B_n$ son conjugadas sin ser capaz de determinar la trenza conjugada cuando existe.

\subsubsection{Esquema simple}
Las llaves públicas son un par de trenzas conjugadas $(p,p')$ con $p'=sps^{-1}$, mientras que $s$, que es la trenza conjugadora, es la llave privada de Alice. Las trenzas $p$ y $s$ pertenecen a $B_n$. Usamos $H$ como función hash unidireccional libre de colisión de $\{0,1\}^*$ a $B_n$. Usamos $\sim$ para la conjugación en $B_n$. El esquema es como sigue:


\begin{enumerate}
\item Alice firma el mensaje $m$ con $q'=sqs^{-1}$, donde $q=H(m)$.
\item Bob comprueba que $q'\sim q$ y que $p'q'\sim pq$.
\end{enumerate}

Si Alice usa la llave secreta $s$, tenemos que $q'=sqs^{-1}$ y que $p'q'=spqs^{-1}$, asi que la firma es aceptada. La seguridad de este esquema se encuentra en el Problema de Búsqueda del Conjugado Coincidente. Este consiste en que teniendo $p'\sim p$ y $q$ en $B_n$, hay que encontrar $q'$ que satisfaga que $q'\sim q$ y $p'q'\sim pq$. Esta demostrado que este problema tiene al menos la misma complejidad que el Problema de Búsqueda del Conjugado para el par $(p,p')$.

\subsubsection{Esquema recomendando}
Una posible debilidad del esquema previo está en que un uso repetido de este revela muchos pares $(q_i,q_i')$ asociados a un conjugador $s$ en común. Para abordar esto se modifica el esquema incorporando una trenza aleatoria. Aquí de nuevo usaremos $h$ como función hash unidireccional libre de colisión de $B_n$ a $\{0,1\}^*$:

\begin{enumerate}
\item Alice elige una trenza aleatoria $r\in B_n$.
\item Alice firma el mensaje $m$ con la 3-tupla $(p'',q'',q')$, donde $p''=rpr^{-1}$, $q=H(mh(p''))$, $q''=rqr^{-1}$ y $q'=rs^{-1}qsr^{-1}$.
\item Bob comprueba que $p''\sim p$, $q''\sim q'$, $p''q''\sim pq$ y $p''q'\sim p'q$.
\end{enumerate}

El análisis de seguridad es similar al del esquema previo.

\section{Criptoanálisis}

Cuando se introdujeron los criptosistemas basados en grupos de trenzas hubo una gran expectación. La dificultad de los principales problemas de teoría de grupos, el problema del conjugado y el problema de la búsqueda del conjugado, parecían lo suficientemente complejos en $B_n$ como para ser seguro. Sin embargo las investigaciones que se han realizado sobre el grupo de trenzas han hecho evidente que, sin consideraciones especiales, los criptosistemas basados en estos son inseguros. A continuación vamos a ver algunos de los posibles ataques que se han visto.
\newline
\newline
Estos ataques se pueden clasificar según diferentes categorías. Ataques basados directamente en la solución del problema del conjugado via los llamados conjuntos de cumbre, ataques basados en longitud los cuales utilizan la longitud de las trenzas, ataques teoricos de representación, y finalmente ataques en la difusión de multiplicación de elementos de grupo por variación de formas normales.

\subsection{Ataques al Problema de Búsqueda del Conjugado}

Ya que la seguridad de los criptosistemas de grupos de trenzas iniciales estaba basada en la dificultad en resolver el problema del conjugado, el problema de búsqueda del conjugado y el problema de búsqueda del conjugador, la mayoría de los ataques han ido enfocados a estos problemas. El problema del conjugado para $B_n$ fue resuelto originalmente por Garside como ya hemos visto y se asume que es complejo. Por lo tanto pareció que usar el problema del conjugado o el problema de búsqueda del conjugador era suficientemente seguro para propósitos criptográficos. Recientemente ha habido investigaciones sobre la complejidad de la solución para varios problemas de búsqueda del conjugado y se han expuesto debilidades en los criptosistemas basados en estos.
\newline
\newline
La solución para el problema del conjugado en $B_n$ usa lo que llamamos \textit{conjuntos de cumbre}. Para cada $b\in B_n$ su conjunto de cumbre, el cual denotaremos por $SS(b)$ consiste de un conjunto finito de conjufados de $b$. El conjunto de cumbre contiene un subconjunto llamado super conjunto de cumbre denotado por $SSS(b)$ que es algoritmicamente computable. El-Rifai y Morton demostraron como calcular para cada $b\in B_n$ el superconjunto de cumbre $SSS(b)$. Es más, dos trenzas $b,b'\in B_n$ son conjugadas si y solo si sus super conjuntos de cumbre coinciden, o equivalentemente, si y solo si se intersecan.
\newline
\begin{teor}
Para cada $b\in B_n$ el conjunto $SSS(b)$ es finito y computacionalmente computable. Si $b,b'\in B_n$ entonces $b$ y $b'$ son conjugados si y solo si $SSS(b)\ \cap\ SSS(b')\neq \emptyset$.
\end{teor}
\ 
\newline
Por lo tanto para resolver el problema del conjugado, y en esencia romper los protocolos de tipo Ko-Lee, hay que encontrar el superconjunto de cumbre de los elementos. Recientemente se ha encontrado un refinamiento del superconjunto de cumbre llamado ultra conjunto de cumbre $USS(b)$ introducido por Gebhardt. El tamaño de $USS(b)$ es a menudo mucho más pequeño que $SSS(b)$.

\subsection{Ataques basados en longitud}
El protocolo Anshel-Anshel-Goldfeld depende del problema de búsqueda del conjugador. Sin embargo, para atacar el protocolo no es necesario encontrar el conjugador exacto. Si $b,b'$ son conjugados entonces conociendo cualquier conjugador, es decir, un elemento $w$ tal que $wbw^{-1}=b'$ es suficiente.
\newline
\newline
Los ataques basados en longitud han sido usados efectivamente en ataques al problema de búsqueda del conjugador. Recordamos que usando la forma normal de Garside cada trenza tiene una longitud bien definida. Esto nos da una función de longitud bien definida en el grupo de trenzas $B_n$.
\newline
\newline
En los protocolos del tipo Anshel-Anshel-Goldfeld que dependen del problema del conjugador un atacante tiene acceso a multiples conjuntos de pares $(a,axa^{-1})$ para un valor secreto $a$ tomado de un conjunto con un número finito de generadores conocidos. El principio común en los ataques basados en longitud es intentar recuperar un conjugador para el par $(b,b')$ el cual se supone se deriva a la forma de $b$ conjugando iterativamente $b'$ en un nuevo elemento $tb't^{-1}$ de manera que la longitud sea mínima. Si definimos la distancia entre dos trenzas $a,b$ como $d(a,b)=l(ab^{-1})$, esto nos da una verdadera métrica en el grupo de trenzas la cual satisface la desigualdad triangular. La idea en un ataque basado en longitud es que no existe demasiada cancelación multiplicando por generadores $\sigma_i$ y por lo tanto si un generador $\sigma_i$ no es un segmento inicial de un conjugador $a$ entonces con una probabilidad distinta de cero la longitud $\sigma(at_ia^{-1})\sigma^{-1}$ es mayor que la longitud de $at_ia^{-1}$. Entonces aplicar cada generador $\sigma_i$ hasta que la longitud se reduzca y este generador puede ser despegado del conjugador.

Ha habido un considerable exito con esta tecnica. Parte del exito sin embargo es debido al hecho de que los grupos de trenzas tienen la propiedad de grupo libre genérica. Hacer reducción en longitud es realmente hacer reducción de grupo libre. De hecho, muchos criptosistemas basados en grupos de trenzas han sido rotos porque los grupos de trenzas tenían la propiedad de grupo libre genérica.

\subsection{Ataques teóricos de representación}
Muchos ataques con exito en los protocolos criptográficos de grupo de trenzas han usado varias representaciones lineales. Burau, Burau cloreado y Lawrence-Krammer. En muchos ataques encontrar la llave secreta es reducido, usando estas representaciones, a algebra lineal sobre campos finitos. Recordamos como procedía el protocolo Ko-Lee:
\newline
\newline
Bob y Alice eligen un subgrupo dentro de $B_n$ con elementos conmutativos. $A$ es el subgrupo de Alice y $B$ el subgrupo de Bob. Alice elige aleatoriamente un $a\in A$. Este elemento $a$ será su llave secreta. Su llave pública será $(g,g^a)$ donde $g^a=aga^{-1}$ es el conjugado de $g$ por su llave secreta $a$. Toda información pública y comunicación está en términos de las formas normales de estos elementos.
\newline
\newline
De igual manera Bob elige aleatoriamente un elemento $b\in B$. Este elemento $b$ será su llave secreta. Su llave pública es $(g,g^b)$ donde $g^b = b^{-1}gb$ es el conjugado de $g$ por su llave secreta $b$. Como Alice, toda su información publica y comunicación esta en términos de la forma normal de estos elementos.
\newline
\newline
La llave secreta compartida es $g^{ab}$. Cheon y Jun demostraron como usar la representación de Lawrence-Krammer para encontrar la llave secreta conociendo solo $g^a$ y $g^b$. Supongamos que $Y_a=\rho(g^a)$ y  $Y_b=\rho(g^b)$ son las imagenes de $g^a$ y $g^b$ bajo la representación de Lawrence-Krammer $\rho$. Cheon y Kim trabajando módulo un primo $p$ y ciertos polinomios irreducibles en $t$ y $q$ solucionan para la matriz $M$ en las ecuaciones

$$Y_aM=MY_b$$
$$\rho(\sigma_i)M=M\rho(\sigma_i)\ \ \ \sigma_i\in B_{2n}$$

En este ataque incluso aunque la solución a las ecuaciones lineales pueda no ser $\rho(a)$la conmutatividad de las ecuaciones nos da

$$MY_bM^{-1}=\rho(b)Y_a\rho(b)^{-1}=\rho()abxb^{-1}a^{-1}$$

el cual puede ser elevado a la trenza necesaria. Este ataque es efectivo porque las matrices provenientes de $\rho$ cumplen unos limites muy restrictivos. La efectividad de este método demuestra que la representación de lawrence-Krammer permite una solución al problema de Diffie-Hellman en grupos de trenzas en tiempo polinomial.


\begin{thebibliography}{X}
\bibitem{Art1}\textsc{Artin, Emil}, \textit{Theorie der z\"opfe}, 1925.
\bibitem{Art2}\textsc{Artin, Emil}, \textit{Theory of braids}, Vol. 48, No. 1, January, 1947.
\bibitem{Deh}\textsc{Dehornoy, Patrick}, \textit{Braid-based cryptography}.
\end{thebibliography}












		

\end{document}

